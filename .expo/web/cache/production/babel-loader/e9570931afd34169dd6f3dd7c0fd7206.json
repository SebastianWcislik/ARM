{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Platform from\"react-native-web/dist/exports/Platform\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import Keyboard from\"react-native-web/dist/exports/Keyboard\";import Feather from\"@expo/vector-icons/Feather\";Feather.loadFont();var DropDownPicker=function(_React$Component){_inherits(DropDownPicker,_React$Component);var _super=_createSuper(DropDownPicker);function DropDownPicker(props){var _this;_classCallCheck(this,DropDownPicker);_this=_super.call(this,props);var choice;var items=[];var defaultValueIndex;if(!props.multiple){if(props.defaultValue||props.defaultValue===0){choice=props.items.find(function(item){return item.value===props.defaultValue;});}else if(props.items.filter(function(item){return item.hasOwnProperty('selected')&&item.selected===true;}).length>0){choice=props.items.filter(function(item){return item.hasOwnProperty('selected')&&item.selected===true;})[0];}else{choice=_this.null();}defaultValueIndex=props.items.findIndex(function(item){return item.value===props.defaultValue;});}else{if(props.defaultValue&&Array.isArray(props.defaultValue)&&props.defaultValue.length>0){props.defaultValue.forEach(function(value,index){items.push(props.items.find(function(item){return item.value===value;}));});}else if(props.items.filter(function(item){return item.hasOwnProperty('selected')&&item.selected===true;}).length>0){items=props.items.filter(function(item,index){return item.hasOwnProperty('selected')&&item.selected===true;});}defaultValueIndex=props.items.findIndex(function(item){return item.value===props.defaultValue[0];});}_this.state={choice:props.multiple?items:{label:choice!==undefined?choice.label:null,value:choice!==undefined?choice.value:null,icon:choice!==undefined?choice.icon:null},searchableText:null,isVisible:props.isVisible,props:{multiple:props.multiple,defaultValue:props.defaultValue,isVisible:props.isVisible},initialScroll:props==null?void 0:props.autoScrollToDefaultValue,defaultValueIndex:defaultValueIndex,top:0,direction:'top',keyboardHeight:0};_this.dropdownCoordinates=[];return _this;}_createClass(DropDownPicker,[{key:\"componentDidMount\",value:function componentDidMount(){this.keyboardDidShowListener=Keyboard.addListener('keyboardDidShow',this.keyboardDidShow.bind(this));this.keyboardDidHideListener=Keyboard.addListener('keyboardDidHide',this.keyboardDidHide.bind(this));this.props.controller(this);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var _this2=this;var item=this.props.items[this.state.defaultValueIndex];var isItemVisible=item&&(typeof item.hidden==='undefined'||item.hidden===false);if(this.state.initialScroll&&this.state.isVisible&&isItemVisible){setTimeout(function(){_this2.scrollViewRef.scrollTo({x:0,y:_this2.dropdownCoordinates[_this2.state.defaultValueIndex],animated:true});_this2.setState({initialScroll:false});},200);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.keyboardDidShowListener.remove();this.keyboardDidHideListener.remove();}},{key:\"reset\",value:function reset(){var item=this.props.multiple?[]:this.null();this.props.onChangeItem(item,-1);if(this.props.multiple)this.props.onChangeItemMultiple(item);}},{key:\"null\",value:function _null(){return{label:null,value:null,icon:function icon(){}};}},{key:\"toggle\",value:function toggle(){var _this3=this;var _await$Promise,_await$Promise2,positionY,screenHeight,dropdownHeight,lowestPointOfDropdown;return _regeneratorRuntime.async(function toggle$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(new Promise(function(resolve){return _this3.layoutRef.measureInWindow(function(){for(var _len=arguments.length,rect=new Array(_len),_key=0;_key<_len;_key++){rect[_key]=arguments[_key];}return resolve(rect);});}));case 2:_await$Promise=_context.sent;_await$Promise2=_slicedToArray(_await$Promise,2);positionY=_await$Promise2[1];screenHeight=Dimensions.get('window').height;dropdownHeight=this.props.dropDownMaxHeight;lowestPointOfDropdown=positionY+this.state.top+dropdownHeight+this.props.bottomOffset+this.state.keyboardHeight;this.setState({isVisible:!this.state.isVisible,direction:lowestPointOfDropdown<screenHeight?'top':'bottom'},function(){var isVisible=_this3.state.isVisible;if(isVisible){_this3.open(false);}else{_this3.close(false);}});case 9:case\"end\":return _context.stop();}}},null,this,null,Promise);}},{key:\"resetItems\",value:function resetItems(items){var _this4=this;var defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.setPropState({items:items},function(){if(defaultValue){if(_this4.state.props.multiple){_this4.reset();(function _callee(){var _loop,_iterator,_step,value;return _regeneratorRuntime.async(function _callee$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_loop=function _loop(value){return _regeneratorRuntime.async(function _loop$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(new Promise(function(resolve,reject){resolve(_this4.select(items.find(function(item){return item.value===value;})));}));case 2:case\"end\":return _context2.stop();}}},null,null,null,Promise);};_iterator=_createForOfIteratorHelperLoose(defaultValue);case 2:if((_step=_iterator()).done){_context3.next=8;break;}value=_step.value;_context3.next=6;return _regeneratorRuntime.awrap(_loop(value));case 6:_context3.next=2;break;case 8:case\"end\":return _context3.stop();}}},null,null,null,Promise);})();}else{_this4.select(items.find(function(item){return item.value===defaultValue;}));}}else{_this4.reset();}});}},{key:\"addItem\",value:function addItem(item){var items=[].concat(_toConsumableArray(this.props.items),[item]);this.setPropState({items:items});}},{key:\"addItems\",value:function addItems(array){var items=[].concat(_toConsumableArray(this.props.items),_toConsumableArray(array));this.setPropState({items:items});}},{key:\"removeItem\",value:function removeItem(value){var _this5=this;var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$changeDefaultVal=_ref.changeDefaultValue,changeDefaultValue=_ref$changeDefaultVal===void 0?true:_ref$changeDefaultVal;var items=_toConsumableArray(this.props.items).filter(function(item){return item.value!==value;});this.setPropState({items:items},function(){if(changeDefaultValue){if(_this5.state.props.multiple){_this5.state.choice.forEach(function(item){if(item.value===value){_this5.select(item);}});}else{if(_this5.state.choice.value===value){_this5.reset();}}}});}},{key:\"setPropState\",value:function setPropState(data){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};this.props.onChangeList(data.items,callback);}},{key:\"isOpen\",value:function isOpen(){return this.state.isVisible;}},{key:\"open\",value:function open(){var _this6=this;var setState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.setState(_objectSpread({},setState&&{isVisible:true}),function(){return _this6.props.onOpen();});}},{key:\"close\",value:function close(){var _this7=this;var setState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.setState(_objectSpread(_objectSpread({},setState&&{isVisible:false}),{},{searchableText:null}),function(){return _this7.props.onClose();});}},{key:\"selectItem\",value:function selectItem(defaultValue){var _this8=this;if(this.state.props.multiple){(function _callee2(){var _loop2,_iterator2,_step2,value;return _regeneratorRuntime.async(function _callee2$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_loop2=function _loop2(value){var item;return _regeneratorRuntime.async(function _loop2$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:item=_this8.props.items.find(function(item){return item.value===value;});if(!item){_context4.next=4;break;}_context4.next=4;return _regeneratorRuntime.awrap(new Promise(function(resolve,reject){resolve(_this8.select(item));}));case 4:case\"end\":return _context4.stop();}}},null,null,null,Promise);};_iterator2=_createForOfIteratorHelperLoose(defaultValue);case 2:if((_step2=_iterator2()).done){_context5.next=8;break;}value=_step2.value;_context5.next=6;return _regeneratorRuntime.awrap(_loop2(value));case 6:_context5.next=2;break;case 8:case\"end\":return _context5.stop();}}},null,null,null,Promise);})();}else{var item=this.props.items.find(function(item){return item.value===defaultValue;});if(item)this.select(item);}}},{key:\"select\",value:function select(item){var multiple=this.state.props.multiple;if(!multiple){this.setState({choice:{label:item.label,value:item.value,icon:item.icon},isVisible:false,props:_objectSpread(_objectSpread({},this.state.props),{},{isVisible:false}),searchableText:null});var index=this.props.items.findIndex(function(i){return i.value===item.value;});this.props.onChangeItem(item,index);}else{var choice=_toConsumableArray(this.state.choice);var exists=choice.findIndex(function(i){return i.label===item.label&&i.value===item.value;});if(exists>-1&&choice.length>this.props.min){choice=choice.filter(function(i){return i.label!==item.label&&i.value!==item.value;});}else if(exists===-1&&choice.length<this.props.max){choice.push(item);}this.setState({choice:choice});this.props.onChangeItem(choice.map(function(i){return i.value;}));this.props.onChangeItemMultiple(choice);}if(!multiple)this.props.onClose();}},{key:\"getLayout\",value:function getLayout(layout){this.setState({top:layout.height-1});}},{key:\"getItems\",value:function getItems(){var parent=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var items=this.props.items.filter(function(item){return(parent!==false&&item.parent===parent||parent===false&&!item.hasOwnProperty('parent'))&&(typeof item.hidden==='undefined'||item.hidden===false);});if(parent)return items;if(this.state.searchableText){var text=this.state.searchableText.toLowerCase();return items.filter(function(item){return item.label&&item.label.toLowerCase().indexOf(text)>-1;});}return items;}},{key:\"getNumberOfItems\",value:function getNumberOfItems(){return this.props.multipleText.replace('%d',this.state.choice.length);}},{key:\"isSelected\",value:function isSelected(item){return this.state.choice.findIndex(function(a){return a.value===item.value;})>-1;}},{key:\"getLabel\",value:function getLabel(item){var selected=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var len;var label;if(typeof item==='object'){len=item.label.length;label=item.label.substr(0,selected?this.props.selectedLabelLength:this.props.labelLength);}else if(item!==null&&typeof item!=='undefined'){len=item.length;label=item.substr(0,selected?this.props.selectedLabelLength:this.props.labelLength);}else{return item;}var len2=label.length;return label+(len!==len2?'...':'');}},{key:\"getChildren\",value:function getChildren(parent){return this.getItems(parent);}},{key:\"concatNums\",value:function concatNums(num1,num2){return Number(String(num1)+String(num2));}},{key:\"adjustStylesToDirection\",value:function adjustStylesToDirection(){for(var _len2=arguments.length,presets=new Array(_len2),_key2=0;_key2<_len2;_key2++){presets[_key2]=arguments[_key2];}presets=presets.map(function(style){return StyleSheet.flatten(style);});var merged=Object.assign.apply(Object,[{}].concat(_toConsumableArray(presets)));if(this.state.direction==='bottom'){var _merged=merged,_merged$borderBottomL=_merged.borderBottomLeftRadius,borderBottomLeftRadius=_merged$borderBottomL===void 0?0:_merged$borderBottomL,_merged$borderBottomR=_merged.borderBottomRightRadius,borderBottomRightRadius=_merged$borderBottomR===void 0?0:_merged$borderBottomR,_merged$borderTopLeft=_merged.borderTopLeftRadius,borderTopLeftRadius=_merged$borderTopLeft===void 0?0:_merged$borderTopLeft,_merged$borderTopRigh=_merged.borderTopRightRadius,borderTopRightRadius=_merged$borderTopRigh===void 0?0:_merged$borderTopRigh;merged=_objectSpread(_objectSpread({},merged),{},{borderBottomLeftRadius:borderTopLeftRadius,borderBottomRightRadius:borderTopRightRadius,borderTopLeftRadius:borderBottomLeftRadius,borderTopRightRadius:borderBottomRightRadius});}return merged;}},{key:\"renderItem\",value:function renderItem(item,index,itemsLength){var _this9=this,_this$props$itemStyle,_this$props$itemStyle2;var child_index=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var _this$props=this.props,renderSeperator=_this$props.renderSeperator,multiple=_this$props.multiple;var children=this.getChildren(item.value);var isSelected=this.state.choice.value===item.value;var testId=isSelected?this.getLabel(item).toLowerCase().replace(' ','-').concat('-selected'):this.getLabel(item).toLowerCase().replace(' ','-');return React.createElement(View,_extends({key:index,onLayout:function onLayout(event){var layout=event.nativeEvent.layout;_this9.dropdownCoordinates[index]=layout.y;}},this.automationId(testId,true)),React.createElement(TouchableOpacity,_extends({key:index,onPress:function onPress(){return!item.untouchable&&_this9.select(item);},style:[styles.dropDownItem,this.props.itemStyle,item.viewStyle,this.state.choice.value===item.value&&this.props.activeItemStyle,_objectSpread({opacity:(item==null?void 0:item.disabled)?0.3:1,alignItems:'center'},multiple&&_objectSpread({justifyContent:'space-between'},this.isSelected(item)&&this.props.activeItemStyle))]},item.untouchable&&{activeOpacity:1},{disabled:(item==null?void 0:item.disabled)||false===true}),React.createElement(View,{style:_objectSpread(_objectSpread({flexDirection:(_this$props$itemStyle=(_this$props$itemStyle2=this.props.itemStyle)==null?void 0:_this$props$itemStyle2.flexDirection)!=null?_this$props$itemStyle:'row'},this.props.itemStyle.hasOwnProperty('justifyContent')&&{justifyContent:this.props.itemStyle.justifyContent}),{},{alignContent:'center'})},React.createElement(View,{style:{justifyContent:'center'}},item.icon&&item.icon()),React.createElement(Text,_extends({style:[this.props.globalTextStyle,this.props.labelStyle,item.textStyle,multiple?this.isSelected(item)&&this.props.activeLabelStyle:this.state.choice.value===item.value&&this.props.activeLabelStyle,_objectSpread({},item.icon&&{marginHorizontal:5})]},this.props.labelProps),this.getLabel(item))),this.state.props.multiple&&this.state.choice.findIndex(function(i){return i.label===item.label&&i.value===item.value;})>-1&&this.props.customTickIcon()),children.length>0&&React.createElement(View,{style:[{paddingLeft:30},this.props.childrenContainerStyle]},renderSeperator(),children.map(function(child,childIndex){return _this9.renderItem(child,_this9.concatNums(index,childIndex),children.length,childIndex);})),(child_index!==false?child_index:index)!==itemsLength-1&&renderSeperator());}},{key:\"automationId\",value:function automationId(testID){var accessible=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(Platform.OS==='ios'){return{testID:testID,accessible:accessible};}return{accessibilityLabel:testID,accessible:accessible};}},{key:\"keyboardDidShow\",value:function keyboardDidShow(keyboardEvent){this.setState({keyboardHeight:keyboardEvent.endCoordinates.height});}},{key:\"keyboardDidHide\",value:function keyboardDidHide(keyboardEvent){this.setState({keyboardHeight:0});}},{key:\"render\",value:function render(){var _this$state$choice,_this10=this,_this$state$choice$ic,_ref3;this.props.controller(this);var _this$state$props=this.state.props,multiple=_this$state$props.multiple,disabled=_this$state$props.disabled;var _this$props2=this.props,placeholder=_this$props2.placeholder,scrollViewProps=_this$props2.scrollViewProps,searchTextInputProps=_this$props2.searchTextInputProps;var isPlaceholderActive=this.state.choice.label===null||Array.isArray(this.state.choice)&&this.state.choice.length===0;var label=isPlaceholderActive?placeholder:this.getLabel((_this$state$choice=this.state.choice)==null?void 0:_this$state$choice.label,true);var placeholderStyle=isPlaceholderActive&&this.props.placeholderStyle;var opacity=disabled?0.5:1;var items=this.getItems();return React.createElement(View,_extends({style:[this.props.containerStyle,_objectSpread({},Platform.OS!=='android'&&{zIndex:this.state.direction==='top'?this.props.zIndex:this.props.zIndexInverse})]},this.props.containerProps),React.createElement(TouchableOpacity,{onLayout:function onLayout(event){return _this10.getLayout(event.nativeEvent.layout);},ref:function ref(_ref2){return _this10.layoutRef=_ref2;},disabled:disabled,onPress:function onPress(){return _this10.toggle();},activeOpacity:1,style:[this.adjustStylesToDirection(styles.dropDown,{flexDirection:'row',flex:1},this.props.style,this.state.isVisible&&this.props.noBottomRadius&&styles.noBottomRadius)]},this.state.choice.icon&&!multiple&&this.state.choice.icon(),React.createElement(Text,_extends({style:[{color:'#000'},this.props.globalTextStyle,{opacity:opacity,flex:1},{marginLeft:this.props.labelStyle.hasOwnProperty('textAlign')&&this.props.labelStyle.textAlign==='left'||!this.props.labelStyle.hasOwnProperty('textAlign')?5:0,marginRight:this.props.labelStyle.hasOwnProperty('textAlign')&&this.props.labelStyle.textAlign==='right'?5:0},(_this$state$choice$ic=this.state.choice.icon)!=null?_this$state$choice$ic:{marginLeft:5},this.props.labelStyle,this.state.choice.label!==null&&this.props.selectedLabelStyle,placeholderStyle]},this.props.labelProps),multiple?this.state.choice.length>0?this.getNumberOfItems():placeholder:label),this.props.showArrow&&React.createElement(View,{style:[styles.arrow]},React.createElement(View,{style:[this.props.arrowStyle,{opacity:opacity}]},!this.state.isVisible?this.props.customArrowDown(this.props.arrowSize,this.props.arrowColor):this.props.customArrowUp(this.props.arrowSize,this.props.arrowColor)))),React.createElement(View,{style:[this.adjustStylesToDirection(styles.dropDown,styles.dropDownBox,this.props.noTopRadius&&styles.noTopRadius,this.props.dropDownStyle),!this.state.isVisible&&styles.hidden,(_ref3={},_defineProperty(_ref3,this.state.direction,this.state.top),_defineProperty(_ref3,\"maxHeight\",this.props.dropDownMaxHeight),_defineProperty(_ref3,\"zIndex\",this.state.direction==='top'?this.props.zIndex:this.props.zIndexInverse),_ref3)]},this.props.searchable&&React.createElement(View,{style:{width:'100%',flexDirection:'row'}},React.createElement(TextInput,_extends({style:[styles.input,this.props.globalTextStyle,this.props.searchableStyle],defaultValue:this.state.searchableText,placeholder:this.props.searchablePlaceholder,placeholderTextColor:this.props.searchablePlaceholderTextColor},searchTextInputProps,{onChangeText:function onChangeText(text){_this10.setState({searchableText:text});_this10.props.onSearch(text);if(searchTextInputProps.onChangeText)searchTextInputProps.onChangeText(text);}}))),React.createElement(ScrollView,_extends({style:{width:'100%'},nestedScrollEnabled:true,ref:function ref(_ref4){_this10.scrollViewRef=_ref4;}},scrollViewProps),items.length>0?items.map(function(item,index){return _this10.renderItem(item,index,items.length);}):React.createElement(View,{style:styles.notFound},this.props.searchableError(this.props.style.globalTextStyle)))));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(!state.props.multiple&&props.defaultValue!==state.props.defaultValue){var _ref5=props.defaultValue===null||props.defaultValue===undefined?{label:null,value:null,icon:function icon(){}}:props.items.find(function(item){return item.value===props.defaultValue;}),label=_ref5.label,value=_ref5.value,icon=_ref5.icon;return{choice:{label:label,value:value,icon:icon},props:_objectSpread(_objectSpread({},state.props),{},{defaultValue:props.defaultValue})};}if(state.props.multiple&&JSON.stringify(props.defaultValue)!==JSON.stringify(state.props.defaultValue)){var items=[];if(props.defaultValue&&Array.isArray(props.defaultValue)&&props.defaultValue.length>0){props.defaultValue.forEach(function(value,index){items.push(props.items.find(function(item){return item.value===value;}));});}return{choice:items,props:_objectSpread(_objectSpread({},state.props),{},{defaultValue:props.defaultValue})};}if(props.isVisible!==state.props.isVisible){return{isVisible:props.isVisible,props:_objectSpread(_objectSpread({},state.props),{},{isVisible:props.isVisible})};}if(props.disabled!==state.props.disabled){return{props:_objectSpread(_objectSpread({},state.props),{},{disabled:props.disabled})};}return null;}}]);return DropDownPicker;}(React.Component);DropDownPicker.defaultProps={items:[],placeholder:'Select an item',dropDownMaxHeight:150,style:{},dropDownStyle:{},containerStyle:{},itemStyle:{},labelStyle:{},selectedLabelStyle:{},placeholderStyle:{},activeItemStyle:{},activeLabelStyle:{},arrowStyle:{},arrowColor:'#000',showArrow:true,arrowSize:15,customArrowUp:function customArrowUp(size,color){return React.createElement(Feather,{name:\"chevron-up\",size:size,color:color});},customArrowDown:function customArrowDown(size,color){return React.createElement(Feather,{name:\"chevron-down\",size:size,color:color});},customTickIcon:function customTickIcon(){return React.createElement(Feather,{name:\"check\",size:15});},zIndex:5000,zIndexInverse:6000,disabled:false,searchable:false,searchablePlaceholder:'Search for an item',searchableError:function searchableError(globalTextStyle){return React.createElement(Text,{style:globalTextStyle},\"Not Found\");},searchableStyle:{},searchablePlaceholderTextColor:'gray',onSearch:function onSearch(){},isVisible:false,autoScrollToDefaultValue:false,multiple:false,multipleText:'%d items have been selected',min:0,max:10000000,selectedLabelLength:1000,labelLength:1000,labelProps:{},scrollViewProps:{},searchTextInputProps:{},containerProps:{},globalTextStyle:{},childrenContainerStyle:{},noTopRadius:true,noBottomRadius:true,bottomOffset:0,renderSeperator:function renderSeperator(){},controller:function controller(){},onOpen:function onOpen(){},onClose:function onClose(){},onChangeItem:function onChangeItem(){},onChangeItemMultiple:function onChangeItemMultiple(){},onChangeList:function onChangeList(){}};var styles=StyleSheet.create({arrow:{flexDirection:'row',justifyContent:'center',alignItems:'center',paddingVertical:8,borderTopLeftRadius:0,borderBottomLeftRadius:0},dropDown:{paddingHorizontal:10,paddingVertical:5,backgroundColor:'#fff',borderTopRightRadius:5,borderTopLeftRadius:5,borderBottomRightRadius:5,borderBottomLeftRadius:5,borderWidth:1,borderColor:'#dfdfdf',alignItems:'center'},dropDownBox:{alignItems:'center',justifyContent:'center',position:'absolute',width:'100%'},dropDownItem:{paddingVertical:8,width:'100%',flexDirection:'row',justifyContent:'center'},input:{flex:1,borderColor:'#dfdfdf',borderBottomWidth:1,paddingHorizontal:0,paddingVertical:8,marginBottom:10},hidden:{position:'relative',display:'none',borderWidth:0},noTopRadius:{borderTopLeftRadius:0,borderTopRightRadius:0},noBottomRadius:{borderBottomLeftRadius:0,borderBottomRightRadius:0},notFound:{marginVertical:10,marginBottom:15,alignItems:'center'}});export default DropDownPicker;","map":{"version":3,"sources":["F:/VSCodeProjects/ARM/node_modules/react-native-dropdown-picker/src/index.js"],"names":["React","Feather","loadFont","DropDownPicker","props","choice","items","defaultValueIndex","multiple","defaultValue","find","item","value","filter","hasOwnProperty","selected","length","null","findIndex","Array","isArray","forEach","index","push","state","label","undefined","icon","searchableText","isVisible","initialScroll","autoScrollToDefaultValue","top","direction","keyboardHeight","dropdownCoordinates","keyboardDidShowListener","Keyboard","addListener","keyboardDidShow","bind","keyboardDidHideListener","keyboardDidHide","controller","isItemVisible","hidden","setTimeout","scrollViewRef","scrollTo","x","y","animated","setState","remove","onChangeItem","onChangeItemMultiple","Promise","resolve","layoutRef","measureInWindow","rect","positionY","screenHeight","Dimensions","get","height","dropdownHeight","dropDownMaxHeight","lowestPointOfDropdown","bottomOffset","open","close","setPropState","reset","reject","select","array","changeDefaultValue","data","callback","onChangeList","onOpen","onClose","i","exists","min","max","map","layout","parent","text","toLowerCase","indexOf","multipleText","replace","a","len","substr","selectedLabelLength","labelLength","len2","getItems","num1","num2","Number","String","presets","style","StyleSheet","flatten","merged","Object","assign","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","itemsLength","child_index","renderSeperator","children","getChildren","isSelected","testId","getLabel","concat","event","nativeEvent","automationId","untouchable","styles","dropDownItem","itemStyle","viewStyle","activeItemStyle","opacity","disabled","alignItems","justifyContent","activeOpacity","flexDirection","alignContent","globalTextStyle","labelStyle","textStyle","activeLabelStyle","marginHorizontal","labelProps","customTickIcon","paddingLeft","childrenContainerStyle","child","childIndex","renderItem","concatNums","testID","accessible","Platform","OS","accessibilityLabel","keyboardEvent","endCoordinates","placeholder","scrollViewProps","searchTextInputProps","isPlaceholderActive","placeholderStyle","containerStyle","zIndex","zIndexInverse","containerProps","getLayout","ref","toggle","adjustStylesToDirection","dropDown","flex","noBottomRadius","color","marginLeft","textAlign","marginRight","selectedLabelStyle","getNumberOfItems","showArrow","arrow","arrowStyle","customArrowDown","arrowSize","arrowColor","customArrowUp","dropDownBox","noTopRadius","dropDownStyle","searchable","width","input","searchableStyle","searchablePlaceholder","searchablePlaceholderTextColor","onSearch","onChangeText","notFound","searchableError","JSON","stringify","Component","defaultProps","size","create","paddingVertical","paddingHorizontal","backgroundColor","borderWidth","borderColor","position","borderBottomWidth","marginBottom","display","marginVertical"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {\r\n    StyleSheet,\r\n    Text,\r\n    View,\r\n    TouchableOpacity,\r\n    ScrollView,\r\n    Platform,\r\n    TextInput,\r\n    Dimensions,\r\n    Keyboard,\r\n} from 'react-native';\r\n\r\n// PR: https://github.com/hossein-zare/react-native-dropdown-picker/pull/132\r\n// import {TouchableOpacity, ScrollView} from 'react-native-gesture-handler';\r\n\r\n// Icon\r\nimport Feather from 'react-native-vector-icons/Feather';\r\nFeather.loadFont();\r\n\r\nclass DropDownPicker extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let choice;\r\n        let items = [];\r\n        let defaultValueIndex; // captures index of first defaultValue for initial scrolling\r\n        if (!props.multiple) {\r\n            if (props.defaultValue || props.defaultValue === 0) {\r\n                choice = props.items.find(item => item.value === props.defaultValue);\r\n            } else if (props.items.filter(item => item.hasOwnProperty('selected') && item.selected === true).length > 0) {\r\n                choice = props.items.filter(item => item.hasOwnProperty('selected') && item.selected === true)[0];\r\n            } else {\r\n                choice = this.null();\r\n            }\r\n            defaultValueIndex = props.items.findIndex(item => item.value === props.defaultValue);\r\n        } else {\r\n            if (props.defaultValue && Array.isArray(props.defaultValue) && props.defaultValue.length > 0) {\r\n                props.defaultValue.forEach((value, index) => {\r\n                    items.push(\r\n                        props.items.find(item => item.value === value)\r\n                    )\r\n                });\r\n            } else if (props.items.filter(item => item.hasOwnProperty('selected') && item.selected === true).length > 0) {\r\n                items = props.items.filter((item, index) => item.hasOwnProperty('selected') && item.selected === true);\r\n            }\r\n            defaultValueIndex = props.items.findIndex(item => item.value === props.defaultValue[0]);\r\n        }\r\n\r\n        this.state = {\r\n            choice: props.multiple ? items : {\r\n                label: choice !== undefined ? choice.label : null,\r\n                value: choice !== undefined ? choice.value : null,\r\n                icon: choice !== undefined ? choice.icon : null,\r\n            },\r\n            searchableText: null,\r\n            isVisible: props.isVisible,\r\n            props: {\r\n                multiple: props.multiple,\r\n                defaultValue: props.defaultValue,\r\n                isVisible: props.isVisible\r\n            },\r\n            initialScroll: props?.autoScrollToDefaultValue,\r\n            defaultValueIndex,\r\n            top: 0,\r\n            direction: 'top',\r\n            keyboardHeight: 0,\r\n        };\r\n        this.dropdownCoordinates = [];\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        // Change default value (! multiple)\r\n        if (!state.props.multiple && props.defaultValue !== state.props.defaultValue) {\r\n            const { label, value, icon } = props.defaultValue === null || props.defaultValue === undefined ? {\r\n                label: null,\r\n                value: null,\r\n                icon: () => { }\r\n            } : props.items.find(item => item.value === props.defaultValue);\r\n            return {\r\n                choice: {\r\n                    label, value, icon\r\n                },\r\n                props: {\r\n                    ...state.props,\r\n                    defaultValue: props.defaultValue\r\n                }\r\n            }\r\n        }\r\n\r\n        // Change default value (multiple)\r\n        if (state.props.multiple && JSON.stringify(props.defaultValue) !== JSON.stringify(state.props.defaultValue)) {\r\n            let items = [];\r\n            if (props.defaultValue && Array.isArray(props.defaultValue) && props.defaultValue.length > 0) {\r\n                props.defaultValue.forEach((value, index) => {\r\n                    items.push(\r\n                        props.items.find(item => item.value === value)\r\n                    )\r\n                });\r\n            }\r\n\r\n            return {\r\n                choice: items,\r\n                props: {\r\n                    ...state.props,\r\n                    defaultValue: props.defaultValue\r\n                }\r\n            }\r\n        }\r\n\r\n        // Change visibility\r\n        if (props.isVisible !== state.props.isVisible) {\r\n            return {\r\n                isVisible: props.isVisible,\r\n                props: {\r\n                    ...state.props,\r\n                    isVisible: props.isVisible\r\n                }\r\n            }\r\n        }\r\n\r\n        // Change disability\r\n        if (props.disabled !== state.props.disabled) {\r\n            return {\r\n                props: {\r\n                    ...state.props,\r\n                    disabled: props.disabled\r\n                }\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.keyboardDidShowListener = Keyboard.addListener('keyboardDidShow', this.keyboardDidShow.bind(this));\r\n        this.keyboardDidHideListener = Keyboard.addListener('keyboardDidHide', this.keyboardDidHide.bind(this));\r\n        this.props.controller(this);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        // ScrollView scrollTo() can only be used after the ScrollView is rendered\r\n        // Automatic scrolling to first defaultValue occurs on first render of dropdown ScrollView\r\n        const item = this.props.items[this.state.defaultValueIndex];\r\n        const isItemVisible = item && (typeof item.hidden === 'undefined' || item.hidden === false);\r\n        if (this.state.initialScroll && this.state.isVisible && isItemVisible) {\r\n            setTimeout(() => {\r\n                this.scrollViewRef.scrollTo({\r\n                    x: 0,\r\n                    y: this.dropdownCoordinates[this.state.defaultValueIndex],\r\n                    animated: true,\r\n                });\r\n                this.setState({ initialScroll: false });\r\n            }, 200);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.keyboardDidShowListener.remove();\r\n        this.keyboardDidHideListener.remove();\r\n    }\r\n\r\n    reset() {\r\n        const item = this.props.multiple ? [] : this.null();\r\n        this.props.onChangeItem(item, -1);\r\n        if (this.props.multiple) this.props.onChangeItemMultiple(item)\r\n    }\r\n\r\n    null() {\r\n        return {\r\n            label: null,\r\n            value: null,\r\n            icon: () => { }\r\n        }\r\n    }\r\n\r\n    async toggle() {\r\n\r\n        const [, positionY] = await new Promise((resolve) =>\r\n            this.layoutRef.measureInWindow((...rect) => resolve(rect)),\r\n        );\r\n\r\n        const screenHeight = Dimensions.get('window').height;\r\n        const dropdownHeight = this.props.dropDownMaxHeight;\r\n\r\n        const lowestPointOfDropdown =\r\n            positionY + // Position in window\r\n            this.state.top + // Size of input\r\n            dropdownHeight + // Height of dropdown\r\n            this.props.bottomOffset + // Extra space, if we have bottom tab or something\r\n            this.state.keyboardHeight; // Height of keyboard (0 if not showing)\r\n\r\n        this.setState({\r\n            isVisible: !this.state.isVisible,\r\n            direction: lowestPointOfDropdown < screenHeight ? 'top' : 'bottom',\r\n        }, () => {\r\n            const isVisible = this.state.isVisible;\r\n            if (isVisible) {\r\n                this.open(false);\r\n            } else {\r\n                this.close(false);\r\n            }\r\n        });\r\n    }\r\n\r\n    resetItems(items, defaultValue = null) {\r\n        this.setPropState({\r\n            items\r\n        }, () => {\r\n            if (defaultValue) {\r\n                if (this.state.props.multiple) {\r\n                    this.reset();\r\n\r\n                    (async () => {\r\n                        for (const value of defaultValue) {\r\n                            await new Promise((resolve, reject) => {\r\n                                resolve(\r\n                                    this.select(items.find(item => item.value === value))\r\n                                );\r\n                            });\r\n                        }\r\n                    })();\r\n                } else {\r\n                    this.select(\r\n                        items.find(item => item.value === defaultValue)\r\n                    );\r\n                }\r\n            } else {\r\n                this.reset();\r\n            }\r\n        });\r\n    }\r\n\r\n    addItem(item) {\r\n        const items = [...this.props.items, item];\r\n        this.setPropState({\r\n            items\r\n        });\r\n    }\r\n\r\n    addItems(array) {\r\n        const items = [...this.props.items, ...array];\r\n        this.setPropState({\r\n            items\r\n        });\r\n    }\r\n\r\n    removeItem(value, { changeDefaultValue = true } = {}) {\r\n        const items = [...this.props.items].filter(item => item.value !== value);\r\n        this.setPropState({\r\n            items\r\n        }, () => {\r\n            if (changeDefaultValue) {\r\n                if (this.state.props.multiple) {\r\n                    this.state.choice.forEach(item => {\r\n                        if (item.value === value) {\r\n                            this.select(item);\r\n                        }\r\n                    });\r\n                } else {\r\n                    if (this.state.choice.value === value) {\r\n                        this.reset();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    setPropState(data, callback = () => { }) {\r\n        this.props.onChangeList(data.items, callback);\r\n    }\r\n\r\n    isOpen() {\r\n        return this.state.isVisible;\r\n    }\r\n\r\n    open(setState = true) {\r\n        this.setState({\r\n            ...(setState && { isVisible: true })\r\n        }, () => this.props.onOpen());\r\n    }\r\n\r\n    close(setState = true) {\r\n        this.setState({\r\n            ...(setState && { isVisible: false }),\r\n            searchableText: null\r\n        }, () => this.props.onClose());\r\n    }\r\n\r\n    selectItem(defaultValue) {\r\n        if (this.state.props.multiple) {\r\n            (async () => {\r\n                for (const value of defaultValue) {\r\n                    const item = this.props.items.find(item => item.value === value);\r\n                    if (item) {\r\n                        await new Promise((resolve, reject) => {\r\n                            resolve(\r\n                                this.select(item)\r\n                            );\r\n                        });\r\n                    }\r\n                }\r\n            })();\r\n        } else {\r\n            const item = this.props.items.find(item => item.value === defaultValue);\r\n            if (item)\r\n                this.select(item);\r\n        }\r\n    }\r\n\r\n    select(item) {\r\n        const { multiple } = this.state.props;\r\n        if (!multiple) {\r\n            this.setState({\r\n                choice: {\r\n                    label: item.label,\r\n                    value: item.value,\r\n                    icon: item.icon\r\n                },\r\n                isVisible: false,\r\n                props: {\r\n                    ...this.state.props,\r\n                    isVisible: false\r\n                },\r\n                searchableText: null\r\n            });\r\n\r\n            const index = this.props.items.findIndex(i => i.value === item.value);\r\n\r\n            // onChangeItem callback\r\n            this.props.onChangeItem(item, index);\r\n        } else {\r\n            let choice = [...this.state.choice];\r\n            const exists = choice.findIndex(i => i.label === item.label && i.value === item.value);\r\n\r\n            if (exists > -1 && choice.length > this.props.min) {\r\n                choice = choice.filter(i => i.label !== item.label && i.value !== item.value);\r\n            } else if (exists === -1 && choice.length < this.props.max) {\r\n                choice.push(item);\r\n            }\r\n\r\n            this.setState({\r\n                choice\r\n            });\r\n\r\n            // onChangeItem callback\r\n            this.props.onChangeItem(choice.map(i => i.value));\r\n            this.props.onChangeItemMultiple(choice);\r\n        }\r\n\r\n        // onClose callback (! multiple)\r\n        if (!multiple)\r\n            this.props.onClose();\r\n    }\r\n\r\n    getLayout(layout) {\r\n        this.setState({\r\n            top: layout.height - 1\r\n        });\r\n    }\r\n\r\n    getItems(parent = false) {\r\n        const items = this.props.items.filter(item => {\r\n            return ((parent !== false && item.parent === parent) || parent === false && !item.hasOwnProperty('parent')) && (typeof item.hidden === 'undefined' || item.hidden === false);\r\n        });\r\n\r\n        if (parent)\r\n            return items;\r\n\r\n        if (this.state.searchableText) {\r\n            const text = this.state.searchableText.toLowerCase();\r\n\r\n            return items.filter((item) => {\r\n                return item.label && (item.label.toLowerCase()).indexOf(text) > -1;\r\n            });\r\n        }\r\n\r\n        return items;\r\n    }\r\n\r\n    getNumberOfItems() {\r\n        return this.props.multipleText.replace('%d', this.state.choice.length);\r\n    }\r\n\r\n    isSelected(item) {\r\n        return this.state.choice.findIndex(a => a.value === item.value) > -1;\r\n    }\r\n\r\n    getLabel(item, selected = false) {\r\n        let len;\r\n        let label;\r\n\r\n        if (typeof item === 'object') {\r\n            len = item.label.length;\r\n            label = item.label.substr(0, selected ? this.props.selectedLabelLength : this.props.labelLength);\r\n        } else if (item !== null && typeof item !== 'undefined') {\r\n            len = item.length;\r\n            label = item.substr(0, selected ? this.props.selectedLabelLength : this.props.labelLength);\r\n        } else {\r\n            return item;\r\n        }\r\n\r\n        let len2 = label.length;\r\n        return label + (len !== len2 ? '...' : '');\r\n    }\r\n\r\n    getChildren(parent) {\r\n        return this.getItems(parent);\r\n    }\r\n\r\n    concatNums(num1, num2) {\r\n        return Number(String(num1) + String(num2));\r\n    }\r\n\r\n    adjustStylesToDirection(...presets) {\r\n        presets = presets.map((style) => StyleSheet.flatten(style));\r\n        let merged = Object.assign({}, ...presets);\r\n\r\n        // if we show dropdown box above, we need to invert border radius\r\n        if (this.state.direction === 'bottom') {\r\n            const {\r\n                borderBottomLeftRadius = 0,\r\n                borderBottomRightRadius = 0,\r\n                borderTopLeftRadius = 0,\r\n                borderTopRightRadius = 0,\r\n            } = merged;\r\n\r\n            merged = {\r\n                ...merged,\r\n                borderBottomLeftRadius: borderTopLeftRadius,\r\n                borderBottomRightRadius: borderTopRightRadius,\r\n                borderTopLeftRadius: borderBottomLeftRadius,\r\n                borderTopRightRadius: borderBottomRightRadius,\r\n            };\r\n        }\r\n\r\n        return merged;\r\n    }\r\n\r\n    renderItem(item, index, itemsLength, child_index = false) {\r\n        const { renderSeperator, multiple } = this.props;\r\n        const children = this.getChildren(item.value);\r\n\r\n        // for automation testing purposes\r\n        // testId const is transforemd to lower case first so there would be no surprises\r\n        // and every time whatever strings are passed here they will look the same\r\n        const isSelected = this.state.choice.value === item.value;\r\n        const testId = isSelected\r\n            ? this.getLabel(item).toLowerCase().replace(' ', '-').concat('-selected')\r\n            : this.getLabel(item).toLowerCase().replace(' ', '-');\r\n\r\n        return (\r\n            <View\r\n                key={index}\r\n                onLayout={event => {\r\n                    const layout = event.nativeEvent.layout;\r\n                    this.dropdownCoordinates[index] = layout.y;\r\n                }}\r\n                {...this.automationId(testId, true)}\r\n            >\r\n                <TouchableOpacity\r\n                    key={index}\r\n                    onPress={() => !item.untouchable && this.select(item)}\r\n                    style={[styles.dropDownItem, this.props.itemStyle, item.viewStyle,\r\n                    (\r\n                        this.state.choice.value === item.value && this.props.activeItemStyle\r\n                    ), {\r\n                        opacity: item?.disabled ? 0.3 : 1,\r\n                        alignItems: 'center',\r\n                        ...(\r\n                            multiple && {\r\n                                justifyContent: 'space-between',\r\n                                ...(this.isSelected(item) && this.props.activeItemStyle)\r\n                            }\r\n                        )\r\n                    }]}\r\n                    {...(item.untouchable && {\r\n                        activeOpacity: 1\r\n                    })}\r\n                    disabled={item?.disabled || false === true}\r\n                >\r\n                    <View style={{\r\n                        flexDirection: this.props.itemStyle?.flexDirection ?? 'row',\r\n                        ...(this.props.itemStyle.hasOwnProperty('justifyContent') && {\r\n                            justifyContent: this.props.itemStyle.justifyContent\r\n                        }),\r\n                        alignContent: 'center'\r\n                    }}>\r\n                        <View style={{ justifyContent: 'center' }}>\r\n                            {item.icon && item.icon()}\r\n                        </View>\r\n                        <Text style={[\r\n                            this.props.globalTextStyle,\r\n                            this.props.labelStyle,\r\n                            item.textStyle,\r\n                            multiple ?\r\n                                (this.isSelected(item) && this.props.activeLabelStyle) : (this.state.choice.value === item.value && this.props.activeLabelStyle)\r\n                            , {\r\n                                ...(item.icon && {\r\n                                    marginHorizontal: 5\r\n                                })\r\n                            }]} {...this.props.labelProps}>\r\n                            {this.getLabel(item)}\r\n                        </Text>\r\n                    </View>\r\n\r\n                    {\r\n                        this.state.props.multiple && this.state.choice.findIndex(i => i.label === item.label && i.value === item.value) > -1 && (\r\n                            this.props.customTickIcon()\r\n                        )\r\n                    }\r\n                </TouchableOpacity>\r\n\r\n                {children.length > 0 && (\r\n                    <View style={[{\r\n                        paddingLeft: 30,\r\n                    }, this.props.childrenContainerStyle]}>\r\n                        {renderSeperator()}\r\n                        {children.map((child, childIndex) => this.renderItem(child, this.concatNums(index, childIndex), children.length, childIndex))}\r\n                    </View>\r\n                )}\r\n\r\n                {((child_index !== false ? child_index : index) !== itemsLength - 1) && renderSeperator()}\r\n            </View>\r\n        );\r\n    }\r\n\r\n    automationId(\r\n        testID,\r\n        accessible = false,\r\n    ) {\r\n        if (Platform.OS === 'ios') {\r\n            return { testID, accessible };\r\n        }\r\n        return { accessibilityLabel: testID, accessible };\r\n    };\r\n\r\n    keyboardDidShow(keyboardEvent) {\r\n        this.setState({\r\n            keyboardHeight: keyboardEvent.endCoordinates.height\r\n        });\r\n    }\r\n\r\n    keyboardDidHide(keyboardEvent) {\r\n        this.setState({\r\n            keyboardHeight: 0\r\n        });\r\n    }\r\n\r\n    render() {\r\n        this.props.controller(this);\r\n        const { multiple, disabled } = this.state.props;\r\n        const { placeholder, scrollViewProps, searchTextInputProps } = this.props;\r\n        const isPlaceholderActive = this.state.choice.label === null || (Array.isArray(this.state.choice) && this.state.choice.length === 0);\r\n        const label = isPlaceholderActive ? (placeholder) : this.getLabel(this.state.choice?.label, true);\r\n        const placeholderStyle = isPlaceholderActive && this.props.placeholderStyle;\r\n        const opacity = disabled ? 0.5 : 1;\r\n        const items = this.getItems();\r\n\r\n        return (\r\n            <View style={[this.props.containerStyle, {\r\n\r\n                ...(Platform.OS !== 'android' && {\r\n                    zIndex: this.state.direction === 'top' ? this.props.zIndex : this.props.zIndexInverse\r\n                })\r\n\r\n            }]}\r\n                {...this.props.containerProps}>\r\n                <TouchableOpacity\r\n                    onLayout={(event) => this.getLayout(event.nativeEvent.layout)}\r\n                    ref={(ref) => (this.layoutRef = ref)}\r\n                    disabled={disabled}\r\n                    onPress={() => this.toggle()}\r\n                    activeOpacity={1}\r\n                    style={[\r\n                        this.adjustStylesToDirection(\r\n                            styles.dropDown,\r\n                            {\r\n                                flexDirection: 'row', flex: 1\r\n                            },\r\n                            this.props.style,\r\n                            (this.state.isVisible && this.props.noBottomRadius) && styles.noBottomRadius,\r\n                        ),\r\n                    ]}\r\n                >\r\n\r\n                    {this.state.choice.icon && !multiple && this.state.choice.icon()}\r\n                    <Text style={[\r\n                        { color: '#000' }, // default label color\r\n                        this.props.globalTextStyle,\r\n                        { opacity, flex: 1 }, {\r\n                            marginLeft: (this.props.labelStyle.hasOwnProperty('textAlign') && this.props.labelStyle.textAlign === 'left') || !this.props.labelStyle.hasOwnProperty('textAlign') ? 5 : 0,\r\n                            marginRight: (this.props.labelStyle.hasOwnProperty('textAlign') && this.props.labelStyle.textAlign === 'right') ? 5 : 0,\r\n                        },\r\n                        this.state.choice.icon ?? { marginLeft: 5 },\r\n                        this.props.labelStyle,\r\n                        this.state.choice.label !== null && this.props.selectedLabelStyle,\r\n                        placeholderStyle\r\n                    ]} {...this.props.labelProps}>\r\n                        {multiple ? (\r\n                            this.state.choice.length > 0 ? this.getNumberOfItems() : placeholder\r\n                        ) : label}\r\n                    </Text>\r\n\r\n                    {this.props.showArrow && (\r\n                        <View style={[styles.arrow]}>\r\n                            <View style={[this.props.arrowStyle, { opacity }]}>\r\n                                {\r\n                                    !this.state.isVisible ? (\r\n                                        this.props.customArrowDown(this.props.arrowSize, this.props.arrowColor)\r\n                                    ) : (\r\n                                        this.props.customArrowUp(this.props.arrowSize, this.props.arrowColor)\r\n                                    )\r\n                                }\r\n                            </View>\r\n                        </View>\r\n                    )}\r\n                </TouchableOpacity>\r\n                <View style={[\r\n                    this.adjustStylesToDirection(\r\n                        styles.dropDown,\r\n                        styles.dropDownBox,\r\n                        this.props.noTopRadius && styles.noTopRadius,\r\n                        this.props.dropDownStyle,\r\n                    ),\r\n\r\n                    !this.state.isVisible && styles.hidden, {\r\n                        [this.state.direction]: this.state.top,\r\n                        maxHeight: this.props.dropDownMaxHeight,\r\n                        zIndex: this.state.direction === 'top' ? this.props.zIndex : this.props.zIndexInverse\r\n                    }\r\n                ]}>\r\n                    {\r\n                        this.props.searchable && (\r\n                            <View style={{ width: '100%', flexDirection: 'row' }}>\r\n                                <TextInput\r\n                                    style={[styles.input, this.props.globalTextStyle, this.props.searchableStyle]}\r\n                                    defaultValue={this.state.searchableText}\r\n                                    placeholder={this.props.searchablePlaceholder}\r\n                                    placeholderTextColor={this.props.searchablePlaceholderTextColor}\r\n                                    {...searchTextInputProps}\r\n                                    onChangeText={(text) => {\r\n                                        this.setState({\r\n                                            searchableText: text\r\n                                        })\r\n                                        this.props.onSearch(text);\r\n                                        if (searchTextInputProps.onChangeText) searchTextInputProps.onChangeText(text);\r\n                                    }}\r\n                                />\r\n                            </View>\r\n                        )\r\n                    }\r\n\r\n                    <ScrollView\r\n                        style={{ width: '100%' }}\r\n                        nestedScrollEnabled={true}\r\n                        ref={ref => {\r\n                            this.scrollViewRef = ref;\r\n                        }}\r\n                        {...scrollViewProps}>\r\n                        {items.length > 0 ? items.map((item, index) =>\r\n                            this.renderItem(item, index, items.length)\r\n                        ) : (\r\n                            <View style={styles.notFound}>\r\n                                {this.props.searchableError(this.props.style.globalTextStyle)}\r\n                            </View>\r\n                        )}\r\n                    </ScrollView>\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nDropDownPicker.defaultProps = {\r\n    items: [],\r\n    placeholder: 'Select an item',\r\n    dropDownMaxHeight: 150,\r\n    style: {},\r\n    dropDownStyle: {},\r\n    containerStyle: {},\r\n    itemStyle: {},\r\n    labelStyle: {},\r\n    selectedLabelStyle: {},\r\n    placeholderStyle: {},\r\n    activeItemStyle: {},\r\n    activeLabelStyle: {},\r\n    arrowStyle: {},\r\n    arrowColor: '#000',\r\n    showArrow: true,\r\n    arrowSize: 15,\r\n    customArrowUp: (size, color) => <Feather name=\"chevron-up\" size={size} color={color} />,\r\n    customArrowDown: (size, color) => <Feather name=\"chevron-down\" size={size} color={color} />,\r\n    customTickIcon: () => <Feather name=\"check\" size={15} />,\r\n    zIndex: 5000,\r\n    zIndexInverse: 6000,\r\n    disabled: false,\r\n    searchable: false,\r\n    searchablePlaceholder: 'Search for an item',\r\n    searchableError: (globalTextStyle) => <Text style={globalTextStyle}>Not Found</Text>,\r\n    searchableStyle: {},\r\n    searchablePlaceholderTextColor: 'gray',\r\n    onSearch: () => { },\r\n    isVisible: false,\r\n    autoScrollToDefaultValue: false,\r\n    multiple: false,\r\n    multipleText: '%d items have been selected',\r\n    min: 0,\r\n    max: 10000000,\r\n    selectedLabelLength: 1000,\r\n    labelLength: 1000,\r\n    labelProps: {},\r\n    scrollViewProps: {},\r\n    searchTextInputProps: {},\r\n    containerProps: {},\r\n    globalTextStyle: {},\r\n    childrenContainerStyle: {},\r\n    noTopRadius: true,\r\n    noBottomRadius: true,\r\n    bottomOffset: 0,\r\n    renderSeperator: () => { },\r\n    controller: () => { },\r\n    onOpen: () => { },\r\n    onClose: () => { },\r\n    onChangeItem: () => { },\r\n    onChangeItemMultiple: () => { },\r\n    onChangeList: () => { },\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    arrow: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        paddingVertical: 8,\r\n        borderTopLeftRadius: 0,\r\n        borderBottomLeftRadius: 0,\r\n    },\r\n    dropDown: {\r\n        paddingHorizontal: 10,\r\n        paddingVertical: 5,\r\n        backgroundColor: '#fff',\r\n        borderTopRightRadius: 5,\r\n        borderTopLeftRadius: 5,\r\n        borderBottomRightRadius: 5,\r\n        borderBottomLeftRadius: 5,\r\n        borderWidth: 1,\r\n        borderColor: '#dfdfdf',\r\n        alignItems: 'center'\r\n    },\r\n    dropDownBox: {\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        position: 'absolute',\r\n        width: '100%',\r\n    },\r\n    dropDownItem: {\r\n        paddingVertical: 8,\r\n        width: '100%',\r\n        flexDirection: 'row',\r\n        justifyContent: 'center'\r\n    },\r\n    input: {\r\n        flex: 1,\r\n        borderColor: '#dfdfdf',\r\n        borderBottomWidth: 1,\r\n        paddingHorizontal: 0,\r\n        paddingVertical: 8,\r\n        marginBottom: 10,\r\n    },\r\n    hidden: {\r\n        position: 'relative',\r\n        display: 'none',\r\n        borderWidth: 0\r\n    },\r\n    noTopRadius: {\r\n        borderTopLeftRadius: 0,\r\n        borderTopRightRadius: 0,\r\n    },\r\n    noBottomRadius: {\r\n        borderBottomLeftRadius: 0,\r\n        borderBottomRightRadius: 0,\r\n    },\r\n    notFound: {\r\n        marginVertical: 10,\r\n        marginBottom: 15,\r\n        alignItems: 'center'\r\n    }\r\n});\r\n\r\nexport default DropDownPicker;\r\n"]},"metadata":{},"sourceType":"module"}