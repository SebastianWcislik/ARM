{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"react-native-gesture-handler\";import{NavigationContainer,useFocusEffect}from\"@react-navigation/native\";import{createStackNavigator}from\"@react-navigation/stack\";import{login}from\"./API/mock\";import Moment from\"moment\";import{vw,vh}from\"react-native-viewport-units\";import{getToken,setToken,getRoleToken,setRoleToken,getEmailToken,setEmailToken,getEventToken,setEventToken}from\"./API/token\";import{Picker}from\"@react-native-picker/picker\";import DropDownPicker from\"react-native-dropdown-picker\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import FlatList from\"react-native-web/dist/exports/FlatList\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Keyboard from\"react-native-web/dist/exports/Keyboard\";var serwerAdress=\"http://192.168.0.27:3000\";export default function App(){var Stack=createStackNavigator();return React.createElement(NavigationContainer,{style:navigationStyle.navigationMenu},React.createElement(Stack.Navigator,null,React.createElement(Stack.Screen,{name:\"Logowanie\",component:ARMLogin,options:({title:\"Logowanie\"},{headerShown:false})}),React.createElement(Stack.Screen,{name:\"ARM\",component:ARMUsersList,options:({title:\"ARM\"},{headerShown:false})}),React.createElement(Stack.Screen,{name:\"M\\xF3j profil\",component:ARMMyProfile,options:({title:\"Mój profil\"},{headerShown:false})}),React.createElement(Stack.Screen,{name:\"Zmiana has\\u0142a\",component:ARMChangePassword,options:({title:\"Zmiana hasła\"},{headerShown:false})}),React.createElement(Stack.Screen,{name:\"Rejestracja\",component:ARMUserRegistration,options:({title:\"Rejestracja\"},{headerShown:false})}),React.createElement(Stack.Screen,{name:\"Informacje o U\\u017Cytkowniku\",component:ARMUserDetails,options:({title:\"Informacje\"},{headerShown:false})}),React.createElement(Stack.Screen,{name:\"Wydarzenia\",component:ARMEvents,options:({title:\"Wydarzenia\"},{headerShown:false})}),React.createElement(Stack.Screen,{name:\"Informacje o Wydarzeniu\",component:ARMEventDetails,options:({title:\"Informacje o Wydarzeniu\"},{headerShown:false})}),React.createElement(Stack.Screen,{name:\"Dodaj wydarzenie\",component:ARMAddEvent,options:({title:\"Dodaj wydarzenie\"},{headerShown:false})})));}export function ARMLogin(_ref){var navigation=_ref.navigation;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),resUser=_useState6[0],setResUser=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),errMessage=_useState8[0],setErrMessage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),shouldShow=_useState10[0],setShouldShow=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),shouldDisable=_useState12[0],setShouldDisable=_useState12[1];var loginUser=function loginUser(){setErrMessage(\"\");login(email,password,resUser).then(function _callee(res){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(setToken(res.loggedUser));case 2:navigation.navigate(\"ARM\",{name:\"ARM\"});case 3:case\"end\":return _context.stop();}}},null,null,null,Promise);}).catch(function(err){return setErrMessage(err.message);});setShouldShow(!shouldShow);setShouldDisable(!shouldDisable);};var getLoginUser=function getLoginUser(){setErrMessage(\"\");fetch(serwerAdress+\"/userToLogin?email=\"+'\"'+email+'\"').then(function(response){return response.json();}).then(function(json){if(json[0]==undefined||json[0]==\"undefined\"){setErrMessage(\"Podany użytkownik nie istnieje\");}if(json[0]!=undefined){setResUser(json);setShouldShow(!shouldShow);setShouldDisable(!shouldDisable);}});};return React.createElement(SafeAreaView,{style:styles.body,onTouchStart:Keyboard.dismiss},React.createElement(View,null,React.createElement(Text,{style:styles.title},\"Logowanie\"),React.createElement(TextInput,{editable:shouldDisable,style:styles.textInputStyle,placeholder:\"Nazwa u\\u017Cytkownika\",value:email,onChangeText:function onChangeText(val){return setEmail(val);}}),shouldShow?React.createElement(View,null,React.createElement(TextInput,{style:styles.textInputStyle,placeholder:\"Has\\u0142o\",value:password,secureTextEntry:true,onChangeText:function onChangeText(val){return setPassword(val);}}),React.createElement(TouchableOpacity,{style:navigationStyle.loginButton,onPress:loginUser},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Zaloguj\"))):React.createElement(TouchableOpacity,{style:navigationStyle.loginButton,onPress:getLoginUser},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Zaloguj\")),errMessage?React.createElement(View,{style:styles.errMessageStyle},React.createElement(Text,{style:styles.errMessageColor},errMessage)):null));}export function ARMUsersList(_ref2){var navigation=_ref2.navigation;var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),Users=_useState14[0],setUsers=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),loggedUser=_useState16[0],setLoggedUser=_useState16[1];var GetList=function GetList(){fetch(serwerAdress+\"/users\").then(function(response){return response.json();}).then(function(json){setUsers(json);});};var GetLoggedUser=function GetLoggedUser(){getToken().then(function(res){return setLoggedUser(res);});};var GetRoles=function GetRoles(){getToken().then(function(res){fetch(serwerAdress+\"/getRoles?email=\"+'\"'+res+'\"').then(function(response){return response.json();}).then(function(json){setRoleToken(json[0].Name);});});};var GetUserDetails=function GetUserDetails(email){setEmailToken(email);navigation.navigate(\"Informacje o Użytkowniku\",{name:\"Informacje\"});};useEffect(function(){GetLoggedUser();GetList();GetRoles();},[]);return React.createElement(SafeAreaView,{style:styles.body},React.createElement(Text,{style:styles.loggedUserStyle},\"Zalogowany jako, \",loggedUser?loggedUser:null),React.createElement(View,{style:styles.container},React.createElement(Text,{style:styles.ARMtitle},\"Aplikacja Ratownik\\xF3w Mazowsza\"),React.createElement(View,{style:styles.usersList},React.createElement(FlatList,{showsVerticalScrollIndicator:false,showsHorizontalScrollIndicator:false,data:Users,renderItem:function renderItem(_ref3){var item=_ref3.item;return React.createElement(View,null,item.State==1?React.createElement(TouchableOpacity,null,React.createElement(Text,{style:styles.users,onPress:function onPress(){return GetUserDetails(item.Email);}},item.Name,\" -\",\" \",React.createElement(Text,{style:states.available},\"Dost\\u0119pny\"))):item.State==2?React.createElement(Text,{style:styles.users,onPress:function onPress(){return GetUserDetails(item.Email);}},item.Name,\" - \",\"\",React.createElement(Text,{style:states.unavailable},\"Niedost\\u0119pny\")):item.State==3?React.createElement(Text,{style:styles.users,onPress:function onPress(){return GetUserDetails(item.Email);}},item.Name,\" - \",\"\",React.createElement(Text,{style:states.busy},\"Na akcji\")):React.createElement(Text,{style:styles.users},\"B\\u0142\\u0105d wczytywania u\\u017Cytkownik\\xF3w\"));},keyExtractor:function keyExtractor(item,index){return index.toString();}})),React.createElement(View,{style:styles.refreshbutton},React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:GetList},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Od\\u015Bwie\\u017C list\\u0119\")),React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:function onPress(){return navigation.navigate(\"Wydarzenia\",{name:\"Wydarzenia\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Wydarzenia\")),React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:function onPress(){return navigation.navigate(\"Mój profil\",{name:\"Mój profil\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"M\\xF3j profil\")),React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:function onPress(){return navigation.navigate(\"Logowanie\",{name:\"Logowanie\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Wyloguj\")))));}export function ARMMyProfile(_ref4){var navigation=_ref4.navigation;var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),loggedUser=_useState18[0],setLoggedUser=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),userName=_useState20[0],setUserName=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),userEmail=_useState22[0],setUserEmail=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),userRole=_useState24[0],setUserRole=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),currentState=_useState26[0],setCurrentState=_useState26[1];var _useState27=useState(1),_useState28=_slicedToArray(_useState27,2),selectedState=_useState28[0],setSelectedState=_useState28[1];var GetLoggedUser=function GetLoggedUser(){getToken().then(function(res){setLoggedUser(res);fetch(serwerAdress+\"/getUserInfo?email=\"+'\"'+res+'\"').then(function(response){return response.json();}).then(function(json){setUserName(json[0].Name);setUserEmail(json[0].Email);setCurrentState(json[0].State);});});};var SetUserState=function SetUserState(){fetch(serwerAdress+\"/getUserState?email=\"+'\"'+userEmail+'\"'+\"&state=\"+'\"'+selectedState+'\"').then(GetLoggedUser);};var GetUserRole=function GetUserRole(){getRoleToken().then(function(res){return setUserRole(res);});};useEffect(function(){GetLoggedUser();GetUserRole();},[]);return React.createElement(SafeAreaView,{style:styles.body},React.createElement(Text,{style:styles.loggedUserStyle},\"Zalogowany jako, \",loggedUser?loggedUser:null),React.createElement(View,null,React.createElement(Text,{style:styles.title},\"M\\xF3j profil\"),React.createElement(View,null,React.createElement(Text,{style:myProfile.myData},\"Imi\\u0119: \",userName?userName:null),React.createElement(Text,{style:myProfile.myData},\"Email: \",userEmail?userEmail:null),React.createElement(Text,{style:myProfile.myData},\"Rola: \",userRole?userRole:null),React.createElement(Text,{style:myProfile.myState},\"Tw\\xF3j obecny status to:\",\" \",currentState==1?React.createElement(Text,{style:states.available},\"Dost\\u0119pny\"):currentState==2?React.createElement(Text,{style:states.unavailable},\"Niedost\\u0119pny\"):currentState==3?React.createElement(Text,{style:states.busy},\"Na akcji\"):null),React.createElement(Text,{style:myProfile.myData},\"Zmie\\u0144 sw\\xF3j obecny status na: \"),React.createElement(DropDownPicker,{items:[{label:\"Dostępny\",value:1},{label:\"Niedostępny\",value:2},{label:\"Na akcji\",value:3}],containerStyle:{height:6*vh},defaultValue:selectedState,style:myProfile.statePicker,dropDownStyle:{backgroundColor:\"dodgerblue\"},onChangeItem:function onChangeItem(itemValue){return setSelectedState(itemValue.value);}}),React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:SetUserState},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Zmie\\u0144 status\")),React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:function onPress(){return navigation.navigate(\"Zmiana hasła\",{name:\"Zmiana hasła\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Zmiana has\\u0142a\")),React.createElement(TouchableOpacity,{style:userRole==\"Admin\"?navigationStyle.navigationButton:{display:\"none\"},onPress:function onPress(){return navigation.navigate(\"Rejestracja\",{name:\"Rejestracja\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Zarejestruj u\\u017Cytkownika\")),React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:function onPress(){return navigation.navigate(\"ARM\",{name:\"ARM\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Powr\\xF3t do listy\")))));}export function ARMChangePassword(_ref5){var navigation=_ref5.navigation;var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),loggedUser=_useState30[0],setLoggedUser=_useState30[1];var _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),userEmail=_useState32[0],setUserEmail=_useState32[1];var _useState33=useState(true),_useState34=_slicedToArray(_useState33,2),shouldShow=_useState34[0],setShouldShow=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),errMessage=_useState36[0],setErrMessage=_useState36[1];var _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),newPassword=_useState38[0],setNewPassword=_useState38[1];var _useState39=useState(\"\"),_useState40=_slicedToArray(_useState39,2),oldPassword=_useState40[0],setOldPassword=_useState40[1];var GetLoggedUser=function GetLoggedUser(){getToken().then(function(res){setLoggedUser(res);fetch(serwerAdress+\"/getUserInfo?email=\"+'\"'+res+'\"').then(function(response){return response.json();}).then(function(json){setUserEmail(json[0].Email);});});};var GetUserPassword=function GetUserPassword(){setErrMessage(\"\");fetch(serwerAdress+\"/getPassword?email=\"+'\"'+userEmail+'\"&password='+'\"'+oldPassword+'\"').then(function(response){return response.json();}).then(function(json){if(json[0].result==0){setErrMessage(\"Podano złe hasło\");setOldPassword(\"\");}if(json[0].result==1){setShouldShow(!shouldShow);}});};var SetUserPassword=function SetUserPassword(){setErrMessage(\"\");fetch(serwerAdress+\"/setPassword?email=\"+'\"'+userEmail+'\"&password='+'\"'+newPassword+'\"').then(function(response){return response.json();}).then(function(json){if(json[0].result==0){setErrMessage(\"Coś poszło nie tak, spróbuj ponownie\");}if(json[0].result==1){setShouldShow(!shouldShow);setNewPassword(\"\");setOldPassword(\"\");setErrMessage(\"Udało się zmienić hasło\");}});};useEffect(function(){GetLoggedUser();},[]);return React.createElement(SafeAreaView,{style:styles.body,onTouchStart:Keyboard.dismiss},React.createElement(Text,{style:styles.loggedUserStyle},\"Zalogowany jako, \",loggedUser?loggedUser:null),React.createElement(View,null,React.createElement(Text,{style:styles.title},\"Zmiana has\\u0142a\"),React.createElement(View,null,shouldShow?React.createElement(View,null,React.createElement(TextInput,{secureTextEntry:true,style:myProfile.newPasswordText,placeholder:\"Podaj stare has\\u0142o\",value:oldPassword,onChangeText:function onChangeText(val){return setOldPassword(val);}}),React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:GetUserPassword},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Zmie\\u0144 has\\u0142o\"))):React.createElement(View,null,React.createElement(TextInput,{secureTextEntry:true,style:myProfile.newPasswordText,placeholder:\"Podaj nowe has\\u0142o\",value:newPassword,onChangeText:function onChangeText(val){return setNewPassword(val);}}),React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:SetUserPassword},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Zmie\\u0144 has\\u0142o\"))),errMessage?React.createElement(View,{style:styles.errMessageStyle},React.createElement(Text,{style:styles.errMessageColor},errMessage)):null,React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:function onPress(){return navigation.navigate(\"Mój profil\",{name:\"Mój profil\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Powr\\xF3t do mojego profilu\")))));}export function ARMUserRegistration(_ref6){var navigation=_ref6.navigation;var _useState41=useState(\"\"),_useState42=_slicedToArray(_useState41,2),loggedUser=_useState42[0],setLoggedUser=_useState42[1];var _useState43=useState(true),_useState44=_slicedToArray(_useState43,2),shouldShow=_useState44[0],setShouldShow=_useState44[1];var _useState45=useState(true),_useState46=_slicedToArray(_useState45,2),shouldDisable=_useState46[0],setShouldDisable=_useState46[1];var _useState47=useState(\"\"),_useState48=_slicedToArray(_useState47,2),errMessage=_useState48[0],setErrMessage=_useState48[1];var _useState49=useState(\"\"),_useState50=_slicedToArray(_useState49,2),emailErrMessage=_useState50[0],setEmailErrMessage=_useState50[1];var _useState51=useState(\"\"),_useState52=_slicedToArray(_useState51,2),password=_useState52[0],setPassword=_useState52[1];var _useState53=useState(\"\"),_useState54=_slicedToArray(_useState53,2),email=_useState54[0],setEmail=_useState54[1];var _useState55=useState(\"\"),_useState56=_slicedToArray(_useState55,2),name=_useState56[0],setName=_useState56[1];var _useState57=useState(1),_useState58=_slicedToArray(_useState57,2),role=_useState58[0],setRole=_useState58[1];var GetLoggedUser=function GetLoggedUser(){getToken().then(function(res){setLoggedUser(res);});};var validateEmail=function validateEmail(email){setEmailErrMessage(\"\");setEmail(email);var re=/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;var result=re.test(email);if(result==false){setEmailErrMessage(\"Wpisano niepoprawny email\");setShouldDisable(true);}if(result==true){setEmailErrMessage(\"\");setErrMessage(\"\");setShouldDisable(false);}};var IsThereUser=function IsThereUser(){fetch(serwerAdress+\"/isThereUser?email=\"+'\"'+email+'\"').then(function(response){return response.json();}).then(function(json){if(json[0].result==1)setErrMessage(\"Podany email już istnieje\");if(json[0].result==0){setErrMessage(\"\");setShouldShow(!shouldShow);}});};var CreateUser=function CreateUser(){fetch(serwerAdress+\"/createUser?email=\"+'\"'+email+'\"'+\"&password=\"+'\"'+password+'\"'+\"&name=\"+'\"'+name+'\"'+\"&role=\"+'\"'+role+'\"').then(function(response){return response.json();}).then(function(json){if(json[0].result==0)setErrMessage(\"Wystąpił błąd w trakcie tworzenia użytkownika, spróbuj ponownie\");if(json[0].result==1){setErrMessage(\"Udało się utworzyć nowego użytkownika\");sendRegistrationEmail();}});};var sendRegistrationEmail=function sendRegistrationEmail(){fetch(serwerAdress+\"/sendMail?password=\"+password+\"&email=\"+email);};useEffect(function(){GetLoggedUser();},[]);return React.createElement(SafeAreaView,{style:styles.body,onTouchStart:Keyboard.dismiss},React.createElement(Text,{style:styles.loggedUserStyle},\"Zalogowany jako, \",loggedUser?loggedUser:null),React.createElement(View,null,React.createElement(Text,{style:styles.title},\"Rejestracja nowego u\\u017Cytkownika\"),React.createElement(View,null,shouldShow?React.createElement(View,null,React.createElement(TextInput,{style:myProfile.registrationText,placeholder:\"Podaj email\",value:email,onChangeText:function onChangeText(val){return validateEmail(val);}}),emailErrMessage?React.createElement(View,{style:styles.errMessageStyle},React.createElement(Text,{style:styles.errMessageColor},emailErrMessage)):null,React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,disabled:shouldDisable,onPress:IsThereUser},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Zarejestruj\"))):React.createElement(View,null,React.createElement(TextInput,{style:myProfile.registrationText,placeholder:\"Podaj email\",value:email,editable:shouldShow,onChangeText:function onChangeText(val){return setEmail(val);}}),React.createElement(TextInput,{style:myProfile.registrationText,placeholder:\"Podaj Imi\\u0119 u\\u017Cytkownika\",value:name,onChangeText:function onChangeText(val){return setName(val);}}),React.createElement(TextInput,{secureTextEntry:true,style:myProfile.registrationText,placeholder:\"Podaj tymczasowe has\\u0142o\",value:password,onChangeText:function onChangeText(val){return setPassword(val);}}),React.createElement(Picker,{selectedValue:role,style:myProfile.statePicker,onValueChange:function onValueChange(itemValue,itemIndex){return setRole(itemValue);}},React.createElement(Picker.Item,{label:\"Admin\",value:\"1\"}),React.createElement(Picker.Item,{label:\"Koordynator\",value:\"2\"}),React.createElement(Picker.Item,{label:\"U\\u017Cytkownik\",value:\"3\"})),React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:CreateUser},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Zarejestruj\"))),errMessage?React.createElement(View,{style:styles.errMessageStyle},React.createElement(Text,{style:styles.errMessageColor},errMessage)):null,React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:function onPress(){return navigation.navigate(\"Mój profil\",{name:\"Mój profil\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Powr\\xF3t do mojego profilu\")))));}export function ARMUserDetails(_ref7){var navigation=_ref7.navigation;var _useState59=useState(\"\"),_useState60=_slicedToArray(_useState59,2),loggedUser=_useState60[0],setLoggedUser=_useState60[1];var _useState61=useState(\"\"),_useState62=_slicedToArray(_useState61,2),userName=_useState62[0],setUserName=_useState62[1];var _useState63=useState(\"\"),_useState64=_slicedToArray(_useState63,2),userEmail=_useState64[0],setUserEmail=_useState64[1];var _useState65=useState(\"\"),_useState66=_slicedToArray(_useState65,2),userRole=_useState66[0],setUserRole=_useState66[1];var _useState67=useState(\"\"),_useState68=_slicedToArray(_useState67,2),currentState=_useState68[0],setCurrentState=_useState68[1];var GetLoggedUser=function GetLoggedUser(){getToken().then(function(res){setLoggedUser(res);});};var GetSelectedUserInfo=function GetSelectedUserInfo(){getEmailToken().then(function(res){fetch(serwerAdress+\"/getSelectedUserInfo?email=\"+'\"'+res+'\"').then(function(response){return response.json();}).then(function(json){setUserName(json[0].Name);setUserEmail(json[0].Email);setCurrentState(json[0].State);setUserRole(json[0].RoleName);});});};useEffect(function(){GetLoggedUser();GetSelectedUserInfo();},[]);return React.createElement(SafeAreaView,{style:styles.body},React.createElement(Text,{style:styles.loggedUserStyle},\"Zalogowany jako, \",loggedUser?loggedUser:null),React.createElement(View,null,React.createElement(Text,{style:styles.title},\"Informacje o u\\u017Cytkowniku\"),React.createElement(View,null,React.createElement(Text,{style:myProfile.myData},\"Imi\\u0119: \",userName?userName:null),React.createElement(Text,{style:myProfile.myData},\"Email: \",userEmail?userEmail:null),React.createElement(Text,{style:myProfile.myData},\"Rola: \",userRole?userRole:null),React.createElement(Text,{style:myProfile.myData},\"Status:\",\" \",currentState==1?React.createElement(Text,{style:states.available},\"Dost\\u0119pny\"):currentState==2?React.createElement(Text,{style:states.unavailable},\"Niedost\\u0119pny\"):currentState==3?React.createElement(Text,{style:states.busy},\"Na akcji\"):null),React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:function onPress(){return navigation.navigate(\"ARM\",{name:\"ARM\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Powr\\xF3t do listy\")))));}export function ARMEvents(_ref8){var navigation=_ref8.navigation;var _useState69=useState([]),_useState70=_slicedToArray(_useState69,2),Events=_useState70[0],setEvents=_useState70[1];var _useState71=useState(\"\"),_useState72=_slicedToArray(_useState71,2),loggedUser=_useState72[0],setLoggedUser=_useState72[1];var _useState73=useState(\"\"),_useState74=_slicedToArray(_useState73,2),userRole=_useState74[0],setUserRole=_useState74[1];var GetEvents=function GetEvents(){fetch(serwerAdress+\"/events\").then(function(response){return response.json();}).then(function(json){setEvents(json);});};var GetLoggedUser=function GetLoggedUser(){getToken().then(function(res){return setLoggedUser(res);});};var GetUserRole=function GetUserRole(){getRoleToken().then(function(res){return setUserRole(res);});};var GetEventDetails=function GetEventDetails(Id){setEventToken(Id);navigation.navigate(\"Informacje o Wydarzeniu\",{name:\"Informacja o Wydarzeniu\"});};useFocusEffect(React.useCallback(function(){GetLoggedUser();GetEvents();Moment.locale(\"pl\");GetUserRole();},[]));return React.createElement(SafeAreaView,{style:styles.body},React.createElement(Text,{style:styles.loggedUserStyle},\"Zalogowany jako, \",loggedUser?loggedUser:null),React.createElement(View,{style:styles.container},React.createElement(Text,{style:styles.title},\"Lista wydarze\\u0144\"),React.createElement(View,{style:styles.eventsList},React.createElement(FlatList,{showsVerticalScrollIndicator:false,showsHorizontalScrollIndicator:false,data:Events,renderItem:function renderItem(_ref9){var item=_ref9.item;return React.createElement(View,{style:styles.marginTop15},React.createElement(TouchableOpacity,null,React.createElement(Text,{style:styles.events,onPress:function onPress(){return GetEventDetails(item.Id);}},item.Name,\"\\n\",Moment(item.DateFrom).format(\"DD-MM-yyyy hh:mm\"),\"\\n\",item.DateTo==null||item.DateTo==\"\"?\"-\":Moment(item.DateTo).format(\"DD-MM-yyyy hh:mm\"))));},keyExtractor:function keyExtractor(item,index){return index.toString();}})),React.createElement(View,{style:styles.refreshbutton},React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:GetEvents},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Od\\u015Bwie\\u017C list\\u0119 wydarze\\u0144\")),userRole==\"Admin\"||userRole==\"Koordynator\"?React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:function onPress(){return navigation.navigate(\"Dodaj wydarzenie\",{name:\"Dodaj wydarzenie\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Dodaj wydarzenie\")):null,React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:function onPress(){return navigation.navigate(\"ARM\",{name:\"ARM\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Powr\\xF3t do listy u\\u017Cytkownik\\xF3w\")))));}export function ARMEventDetails(_ref10){var navigation=_ref10.navigation;var _useState75=useState(\"\"),_useState76=_slicedToArray(_useState75,2),loggedUser=_useState76[0],setLoggedUser=_useState76[1];var _useState77=useState(\"\"),_useState78=_slicedToArray(_useState77,2),userRole=_useState78[0],setUserRole=_useState78[1];var _useState79=useState(0),_useState80=_slicedToArray(_useState79,2),eventId=_useState80[0],setEventId=_useState80[1];var _useState81=useState(\"\"),_useState82=_slicedToArray(_useState81,2),errMessage=_useState82[0],setErrMessage=_useState82[1];var _useState83=useState([]),_useState84=_slicedToArray(_useState83,2),UsersInEvents=_useState84[0],setUsersInEvents=_useState84[1];var _useState85=useState(true),_useState86=_slicedToArray(_useState85,2),shouldShow=_useState86[0],setShouldShow=_useState86[1];var _useState87=useState(\"\"),_useState88=_slicedToArray(_useState87,2),eventName=_useState88[0],setEventName=_useState88[1];var _useState89=useState(\"\"),_useState90=_slicedToArray(_useState89,2),eventLocalization=_useState90[0],setEventLokalization=_useState90[1];var _useState91=useState(\"\"),_useState92=_slicedToArray(_useState91,2),eventFrom=_useState92[0],setEventFrom=_useState92[1];var _useState93=useState(\"\"),_useState94=_slicedToArray(_useState93,2),eventTo=_useState94[0],setEventTo=_useState94[1];var GetLoggedUser=function GetLoggedUser(){getToken().then(function(res){setLoggedUser(res);});};var GetUserRole=function GetUserRole(){getRoleToken().then(function(res){setUserRole(res);});};var GetEventInfo=function GetEventInfo(){getEventToken().then(function(res){return fetch(serwerAdress+\"/eventById?Id=\"+res).then(function(response){return response.json();}).then(function(json){setEventId(json[0].Id);setEventName(json[0].Name);setEventLokalization(json[0].Localization);setEventFrom(json[0].DateFrom);setEventTo(json[0].DateTo);});});};var GetUsersInEvent=function GetUsersInEvent(){getEventToken().then(function(res){fetch(serwerAdress+\"/getUsersInEvent?eventId=\"+res).then(function(res){return res.json();}).then(function(json){setUsersInEvents(json);getToken().then(function(res){for(var i=0;i<json.length;i++){if(json[i].Email==res){setShouldShow(!shouldShow);return;}}});});});};var AddToEvent=function AddToEvent(){fetch(serwerAdress+\"/getUserInfo?email=\"+'\"'+loggedUser+'\"').then(function(res){return res.json();}).then(function(json){fetch(serwerAdress+\"/addToEvent?userId=\"+json[0].Id+\"&eventId=\"+eventId).then(function(json){return json.json();}).then(function(response){if(response[0].result==0)setErrMessage(\"Wystąpił błąd w trakcie dołączania do wydarzenia, spróbuj ponownie\");if(response[0].result==1){setErrMessage(\"Udało się dołączyć do wydarzenia\");GetUsersInEvent();setShouldShow(!shouldShow);}});});};var QuitEvent=function QuitEvent(){fetch(serwerAdress+\"/getUserInEvent?Email=\"+'\"'+loggedUser+'\"').then(function(res){return res.json();}).then(function(json){return fetch(serwerAdress+\"/deleteFromEvent?Id=\"+json[0].Id).then(function(response){return response.json().then(function(json){if(json[0].result==0)setErrMessage(\"Wystąpił błąd w trakcie opuszczania wydarzenia, spróbuj ponownie\");if(json[0].result==1){setErrMessage(\"Udało się opuścić wydarzenie\");GetUsersInEvent();setShouldShow(!shouldShow);}});});});};var DeleteEvent=function DeleteEvent(){fetch(serwerAdress+\"/deleteEvent?eventId=\"+eventId).then(function(){navigation.navigate(\"Wydarzenia\",{name:\"Wydarzenia\"});});};useEffect(function(){GetLoggedUser();GetEventInfo();GetUsersInEvent();GetUserRole();},[]);return React.createElement(SafeAreaView,{style:styles.body},React.createElement(Text,{style:styles.loggedUserStyle},\"Zalogowany jako, \",loggedUser?loggedUser:null),React.createElement(View,null,React.createElement(Text,{style:styles.title},\"Informacje o wydarzeniu\"),React.createElement(View,null,React.createElement(Text,{style:myProfile.myData},\"Nazwa: \",eventName?eventName:null),React.createElement(Text,{style:myProfile.myData},\"Lokalizacja: \",eventLocalization?eventLocalization:null),React.createElement(Text,{style:myProfile.myData},\"Data rozpocz\\u0119cia:\",\" \",eventFrom?Moment(eventFrom).format(\"DD-MM-yyyy hh:mm\"):null),React.createElement(Text,{style:myProfile.myData},\"Data zako\\u0144czenia:\",\" \",eventTo?Moment(eventTo).format(\"DD-MM-yyyy hh:mm\"):null),React.createElement(Text,{style:styles.title},\"Osoby bior\\u0105ce udzia\\u0142 w wydarzeniu: \"),React.createElement(View,{style:styles.usersInEventList},React.createElement(FlatList,{showsVerticalScrollIndicator:false,showsHorizontalScrollIndicator:false,data:UsersInEvents,renderItem:function renderItem(_ref11){var item=_ref11.item;return React.createElement(View,{style:styles.marginTop15},React.createElement(Text,{style:styles.events},item.UserName,\" - \",item.Email));},keyExtractor:function keyExtractor(item,index){return index.toString();}})),shouldShow?React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:AddToEvent},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Do\\u0142\\u0105cz do wydarzenia\")):React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:QuitEvent},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Opu\\u015B\\u0107 wydarzenie\")),errMessage?React.createElement(View,{style:styles.eventErrMessageStyle},React.createElement(Text,{style:styles.errMessageColor},errMessage)):null,userRole==\"Admin\"||userRole==\"Koordynator\"?React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:DeleteEvent},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Usu\\u0144 wydarzenie\")):null,React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:function onPress(){return navigation.navigate(\"Wydarzenia\",{name:\"Wydarzenia\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Powr\\xF3t do wydarze\\u0144\")))));}export function ARMAddEvent(_ref12){var navigation=_ref12.navigation;var _useState95=useState(\"\"),_useState96=_slicedToArray(_useState95,2),loggedUser=_useState96[0],setLoggedUser=_useState96[1];var _useState97=useState(\"\"),_useState98=_slicedToArray(_useState97,2),errEventName=_useState98[0],setErrEventName=_useState98[1];var _useState99=useState(\"\"),_useState100=_slicedToArray(_useState99,2),errEventLocalization=_useState100[0],setErrEventLocalization=_useState100[1];var _useState101=useState(\"\"),_useState102=_slicedToArray(_useState101,2),errMessage=_useState102[0],setErrMessage=_useState102[1];var _useState103=useState(\"\"),_useState104=_slicedToArray(_useState103,2),errFromMessage=_useState104[0],setErrFromMessage=_useState104[1];var _useState105=useState(\"\"),_useState106=_slicedToArray(_useState105,2),errToMessage=_useState106[0],setErrToMessage=_useState106[1];var _useState107=useState(\"\"),_useState108=_slicedToArray(_useState107,2),eventName=_useState108[0],setEventName=_useState108[1];var _useState109=useState(\"\"),_useState110=_slicedToArray(_useState109,2),eventLocalization=_useState110[0],setEventLocalization=_useState110[1];var _useState111=useState(\"\"),_useState112=_slicedToArray(_useState111,2),eventFrom=_useState112[0],setEventFrom=_useState112[1];var _useState113=useState(\"\"),_useState114=_slicedToArray(_useState113,2),eventTo=_useState114[0],setEventTo=_useState114[1];var GetLoggedUser=function GetLoggedUser(){getToken().then(function(res){setLoggedUser(res);});};var eventNameInput=function eventNameInput(val){setErrEventName(\"\");if(val==\"\"){setErrEventName(\"Uzupełnij nazwę wydarzenia\");}setEventName(val);};var eventLocalizationInput=function eventLocalizationInput(val){setErrEventLocalization(\"\");if(val==\"\"){setErrEventLocalization(\"Uzupełnij localizację wydarzenia\");}setEventLocalization(val);};var validateFromDate=function validateFromDate(date){setErrFromMessage(\"\");setErrMessage(\"\");setEventFrom(date);if(date==null||date==\"\")return;var re=/^([1-9]|([012][0-9])|(3[01]))-([0]{0,1}[1-9]|1[012])-\\d\\d\\d\\d\\s([0-1]?[0-9]|2?[0-3]):([0-5]\\d)$/;var result=re.test(date);if(result==false){setErrFromMessage(\"Wpisano niepoprawną datę rozpoczęcia \\nData powinna mieć format dd-mm-yyyy hh:mm\");}if(result==true){setErrMessage(\"\");setErrFromMessage(\"\");}};var validateToDate=function validateToDate(date){setErrToMessage(\"\");setErrMessage(\"\");setEventTo(date);if(date==null||date==\"\")return;var re=/^([1-9]|([012][0-9])|(3[01]))-([0]{0,1}[1-9]|1[012])-\\d\\d\\d\\d\\s([0-1]?[0-9]|2?[0-3]):([0-5]\\d)$/;var result=re.test(date);if(result==false){setErrToMessage(\"Wpisano niepoprawną datę zakończenia \\nData powinna mieć format dd-mm-yyyy hh:mm\");}if(result==true){setErrMessage(\"\");setErrToMessage(\"\");}};var AddEvent=function AddEvent(){setErrMessage(\"\");setErrEventName(\"\");setErrEventLocalization(\"\");if(eventName==\"\"){setErrEventName(\"Uzupełnij nazwę wydarzenia\");}if(eventLocalization==\"\"){setErrEventLocalization(\"Uzupełnij lokalizację wydarzenia\");}if(eventFrom==\"\"){setErrFromMessage(\"Uzupełnij datę rozpoczęcia\");}if(eventTo!=null||eventTo!=\"\"){if(new Date(eventFrom)>new Date(eventTo)){setErrMessage(\"Data rozpoczęcia nie może być mniejsza od daty zakończenia\");return;}}if(eventName==\"\"||eventLocalization==\"\"||eventFrom==\"\")return;var dateFrom=Moment(eventFrom,\"DD-MM-yyyy hh:mm\").format(\"yyyy-MM-DD hh:mm\");var dateTo=null;if(eventTo!=\"\")dateTo='\"'+Moment(eventTo,\"DD-MM-yyyy hh:mm\").format(\"yyyy-MM-DD hh:mm\")+'\"';fetch(serwerAdress+\"/addEvent?eventName=\"+'\"'+eventName+'\"'+\"&eventLocalization=\"+'\"'+eventLocalization+'\"'+\"&eventFrom=\"+'\"'+dateFrom+'\"'+\"&eventTo=\"+dateTo).then(function(res){return res.json();}).then(function(json){if(json[0].result==1){setErrMessage(\"Udało się stworzyć nowe wydarzenie\");navigation.navigate(\"Wydarzenia\",{name:\"Wydarzenia\"});}if(json[0].result==0)setErrMessage(\"Nie udało się utworzyć nowego wydarzenia, spróbuj ponownie\");});};useEffect(function(){GetLoggedUser();Moment.locale(\"pl\");},[]);return React.createElement(SafeAreaView,{style:styles.body},React.createElement(Text,{style:styles.loggedUserStyle},\"Zalogowany jako, \",loggedUser?loggedUser:null),React.createElement(View,{style:{width:300}},React.createElement(Text,{style:styles.title},\"Dodaj wydarzenie\"),React.createElement(View,null,React.createElement(TextInput,{style:styles.textInputStyle,placeholder:\"Nazwa wydarzenia\",value:eventName,onChangeText:function onChangeText(val){return eventNameInput(val);}}),errEventName?React.createElement(View,{style:styles.eventErrMessageStyle},React.createElement(Text,{style:styles.errMessageColor},errEventName)):null,React.createElement(TextInput,{style:styles.textInputStyle,placeholder:\"Podaj lokalizacj\\u0119\",value:eventLocalization,onChangeText:function onChangeText(val){return eventLocalizationInput(val);}}),errEventLocalization?React.createElement(View,{style:styles.eventErrMessageStyle},React.createElement(Text,{style:styles.errMessageColor},errEventLocalization)):null,React.createElement(TextInput,{style:styles.textInputStyle,placeholder:\"Podaj dat\\u0119 rozpocz\\u0119cia\",value:eventFrom,onChangeText:function onChangeText(val){return validateFromDate(val);}}),errFromMessage?React.createElement(View,{style:styles.eventErrMessageStyle},React.createElement(Text,{style:styles.errMessageColor},errFromMessage)):null,React.createElement(TextInput,{style:styles.textInputStyle,placeholder:\"Podaj dat\\u0119 zako\\u0144czenia\",value:eventTo,onChangeText:function onChangeText(val){return validateToDate(val);}}),errToMessage?React.createElement(View,{style:styles.eventErrMessageStyle},React.createElement(Text,{style:styles.errMessageColor},errToMessage)):null,React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:AddEvent},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Dodaj wydarzenie\")),errMessage?React.createElement(View,{style:styles.eventErrMessageStyle},React.createElement(Text,{style:styles.errMessageColor},errMessage)):null,React.createElement(TouchableOpacity,{style:navigationStyle.navigationButton,onPress:function onPress(){return navigation.navigate(\"Wydarzenia\",{name:\"Wydarzenia\"});}},React.createElement(Text,{style:navigationStyle.navigationButtonText},\"Powr\\xF3t do wydarze\\u0144\")))));}var styles=StyleSheet.create({body:{flex:1,flexDirection:\"row\",alignItems:\"center\",justifyContent:\"center\",backgroundColor:\"dodgerblue\"},container:{height:70*vh},ARMtitle:{marginLeft:\"auto\",marginRight:\"auto\",fontSize:2.5*vh,fontWeight:\"bold\",marginBottom:\"5%\",marginTop:\"-5%\"},title:{marginLeft:\"auto\",marginRight:\"auto\",fontSize:2.5*vh,fontWeight:\"bold\",marginBottom:\"5%\",marginTop:\"5%\"},usersList:{height:40*vh,alignItems:\"center\"},usersInEventList:{height:26*vh,alignItems:\"center\"},users:{alignItems:\"center\",fontSize:2.3*vh,marginTop:20},eventsList:{height:40*vh,alignItems:\"center\"},events:{justifyContent:\"center\",marginLeft:\"auto\",marginRight:\"auto\",fontSize:2*vh,marginTop:5},refreshbutton:{marginTop:\"5%\",borderRadius:5},textInputStyle:{height:5*vh,width:\"95%\",margin:5,marginBottom:15},errMessageStyle:{padding:10,position:\"relative\",width:200},eventErrMessageStyle:{padding:10,position:\"relative\",width:\"auto\"},errMessageColor:{color:\"orange\"},loggedUserStyle:{position:\"absolute\",top:20,left:0,fontSize:1.5*vh},marginTop15:{marginTop:15}});var states=StyleSheet.create({available:{color:\"darkgreen\"},unavailable:{color:\"darkred\"},busy:{color:\"orange\"}});var navigationStyle=StyleSheet.create({navigationMenu:{display:\"none\",alignContent:\"flex-end\",justifyContent:\"center\"},navigationButton:{alignItems:\"center\",justifyContent:\"center\",padding:1*vh,backgroundColor:\"#0064C8\",marginTop:10,borderRadius:5},loginButton:{alignItems:\"center\",justifyContent:\"center\",padding:1*vh,backgroundColor:\"#0064C8\",width:200,borderRadius:5},navigationButtonText:{alignItems:\"center\",fontSize:2*vh,color:\"white\"}});var myProfile=StyleSheet.create({myData:{fontSize:2*vh,padding:2,marginTop:5,fontWeight:\"bold\"},myState:{marginTop:20,fontSize:2*vh,fontWeight:\"bold\"},statePicker:{backgroundColor:\"dodgerblue\"},newPasswordText:{height:5*vh,width:\"95%\",margin:5,marginTop:15,marginBottom:5},registrationText:{width:\"95%\",marginTop:10,marginBottom:5}});","map":{"version":3,"sources":["F:/VSCodeProjects/ARM/App.js"],"names":["React","useEffect","useState","NavigationContainer","useFocusEffect","createStackNavigator","login","Moment","vw","vh","getToken","setToken","getRoleToken","setRoleToken","getEmailToken","setEmailToken","getEventToken","setEventToken","Picker","DropDownPicker","serwerAdress","App","Stack","navigationStyle","navigationMenu","ARMLogin","title","headerShown","ARMUsersList","ARMMyProfile","ARMChangePassword","ARMUserRegistration","ARMUserDetails","ARMEvents","ARMEventDetails","ARMAddEvent","navigation","email","setEmail","password","setPassword","resUser","setResUser","errMessage","setErrMessage","shouldShow","setShouldShow","shouldDisable","setShouldDisable","loginUser","then","res","loggedUser","navigate","name","catch","err","message","getLoginUser","fetch","response","json","undefined","styles","body","Keyboard","dismiss","textInputStyle","val","loginButton","navigationButtonText","errMessageStyle","errMessageColor","Users","setUsers","setLoggedUser","GetList","GetLoggedUser","GetRoles","Name","GetUserDetails","loggedUserStyle","container","ARMtitle","usersList","item","State","users","Email","states","available","unavailable","busy","index","toString","refreshbutton","navigationButton","userName","setUserName","userEmail","setUserEmail","userRole","setUserRole","currentState","setCurrentState","selectedState","setSelectedState","SetUserState","GetUserRole","myProfile","myData","myState","label","value","height","statePicker","backgroundColor","itemValue","display","newPassword","setNewPassword","oldPassword","setOldPassword","GetUserPassword","result","SetUserPassword","newPasswordText","emailErrMessage","setEmailErrMessage","setName","role","setRole","validateEmail","re","test","IsThereUser","CreateUser","sendRegistrationEmail","registrationText","itemIndex","GetSelectedUserInfo","RoleName","Events","setEvents","GetEvents","GetEventDetails","Id","useCallback","locale","eventsList","marginTop15","events","DateFrom","format","DateTo","eventId","setEventId","UsersInEvents","setUsersInEvents","eventName","setEventName","eventLocalization","setEventLokalization","eventFrom","setEventFrom","eventTo","setEventTo","GetEventInfo","Localization","GetUsersInEvent","i","length","AddToEvent","QuitEvent","DeleteEvent","usersInEventList","UserName","eventErrMessageStyle","errEventName","setErrEventName","errEventLocalization","setErrEventLocalization","errFromMessage","setErrFromMessage","errToMessage","setErrToMessage","setEventLocalization","eventNameInput","eventLocalizationInput","validateFromDate","date","validateToDate","AddEvent","Date","dateFrom","dateTo","width","StyleSheet","create","flex","flexDirection","alignItems","justifyContent","marginLeft","marginRight","fontSize","fontWeight","marginBottom","marginTop","borderRadius","margin","padding","position","color","top","left","alignContent"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"react-native-gesture-handler\";\nimport { NavigationContainer, useFocusEffect } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { login } from \"./API/mock\";\nimport Moment from \"moment\";\nimport { vw, vh } from \"react-native-viewport-units\";\nimport {\n  getToken,\n  setToken,\n  getRoleToken,\n  setRoleToken,\n  getEmailToken,\n  setEmailToken,\n  getEventToken,\n  setEventToken,\n} from \"./API/token\";\nimport { Picker } from \"@react-native-picker/picker\";\nimport DropDownPicker from \"react-native-dropdown-picker\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  SafeAreaView,\n  FlatList,\n  TouchableOpacity,\n  TextInput,\n  Keyboard,\n} from \"react-native\";\n\n// Deklaracja zmiennych globalnych\n\nconst serwerAdress = \"http://192.168.0.27:3000\"; // baza danych\n\n// APP\n\nexport default function App() {\n  // Deklaracja zmiennych\n\n  const Stack = createStackNavigator();\n\n  // Menu nawigacyjne\n\n  return (\n    <NavigationContainer style={navigationStyle.navigationMenu}>\n      <Stack.Navigator>\n        <Stack.Screen\n          name=\"Logowanie\"\n          component={ARMLogin}\n          options={({ title: \"Logowanie\" }, { headerShown: false })}\n        />\n        <Stack.Screen\n          name=\"ARM\"\n          component={ARMUsersList}\n          options={({ title: \"ARM\" }, { headerShown: false })}\n        />\n        <Stack.Screen\n          name=\"Mój profil\"\n          component={ARMMyProfile}\n          options={({ title: \"Mój profil\" }, { headerShown: false })}\n        />\n        <Stack.Screen\n          name=\"Zmiana hasła\"\n          component={ARMChangePassword}\n          options={({ title: \"Zmiana hasła\" }, { headerShown: false })}\n        />\n        <Stack.Screen\n          name=\"Rejestracja\"\n          component={ARMUserRegistration}\n          options={({ title: \"Rejestracja\" }, { headerShown: false })}\n        />\n        <Stack.Screen\n          name=\"Informacje o Użytkowniku\"\n          component={ARMUserDetails}\n          options={({ title: \"Informacje\" }, { headerShown: false })}\n        />\n        <Stack.Screen\n          name=\"Wydarzenia\"\n          component={ARMEvents}\n          options={({ title: \"Wydarzenia\" }, { headerShown: false })}\n        />\n        <Stack.Screen\n          name=\"Informacje o Wydarzeniu\"\n          component={ARMEventDetails}\n          options={\n            ({ title: \"Informacje o Wydarzeniu\" }, { headerShown: false })\n          }\n        />\n        <Stack.Screen\n          name=\"Dodaj wydarzenie\"\n          component={ARMAddEvent}\n          options={({ title: \"Dodaj wydarzenie\" }, { headerShown: false })}\n        />\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n}\n\n// Widoki aplikacji\n\n// Login\n\nexport function ARMLogin({ navigation }) {\n  // Zmienne do logowania\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [resUser, setResUser] = useState([]);\n\n  // Odpowiedź z API - errorHandler\n  const [errMessage, setErrMessage] = useState(\"\");\n\n  // Pokazywanie/ukrywanie przycisków do logowania\n  const [shouldShow, setShouldShow] = useState(false);\n  const [shouldDisable, setShouldDisable] = useState(true);\n\n  const loginUser = () => {\n    setErrMessage(\"\");\n\n    login(email, password, resUser)\n      .then(async (res) => {\n        await setToken(res.loggedUser);\n        navigation.navigate(\"ARM\", { name: \"ARM\" });\n      })\n      .catch((err) => setErrMessage(err.message));\n    setShouldShow(!shouldShow);\n    setShouldDisable(!shouldDisable);\n  };\n\n  const getLoginUser = () => {\n    setErrMessage(\"\");\n\n    fetch(serwerAdress + \"/userToLogin?email=\" + '\"' + email + '\"')\n      .then((response) => response.json())\n      .then((json) => {\n        if (json[0] == undefined || json[0] == \"undefined\") {\n          setErrMessage(\"Podany użytkownik nie istnieje\");\n        }\n\n        if (json[0] != undefined) {\n          setResUser(json);\n          setShouldShow(!shouldShow);\n          setShouldDisable(!shouldDisable);\n        }\n      });\n  };\n\n  return (\n    <SafeAreaView style={styles.body} onTouchStart={Keyboard.dismiss}>\n      <View>\n        <Text style={styles.title}>Logowanie</Text>\n        <TextInput\n          editable={shouldDisable}\n          style={styles.textInputStyle}\n          placeholder=\"Nazwa użytkownika\"\n          value={email}\n          onChangeText={(val) => setEmail(val)}\n        />\n        {shouldShow ? (\n          <View>\n            <TextInput\n              style={styles.textInputStyle}\n              placeholder=\"Hasło\"\n              value={password}\n              secureTextEntry={true}\n              onChangeText={(val) => setPassword(val)}\n            />\n            <TouchableOpacity\n              style={navigationStyle.loginButton}\n              onPress={loginUser}\n            >\n              <Text style={navigationStyle.navigationButtonText}>Zaloguj</Text>\n            </TouchableOpacity>\n          </View>\n        ) : (\n          <TouchableOpacity\n            style={navigationStyle.loginButton}\n            onPress={getLoginUser}\n          >\n            <Text style={navigationStyle.navigationButtonText}>Zaloguj</Text>\n          </TouchableOpacity>\n        )}\n        {errMessage ? (\n          <View style={styles.errMessageStyle}>\n            <Text style={styles.errMessageColor}>{errMessage}</Text>\n          </View>\n        ) : null}\n      </View>\n    </SafeAreaView>\n  );\n}\n\n// Lista użytkowników\n\nexport function ARMUsersList({ navigation }) {\n  const [Users, setUsers] = useState([]); // lista użytkowników\n  const [loggedUser, setLoggedUser] = useState(\"\");\n\n  const GetList = () => {\n    fetch(serwerAdress + \"/users\")\n      .then((response) => response.json())\n      .then((json) => {\n        setUsers(json);\n      });\n  };\n\n  const GetLoggedUser = () => {\n    getToken().then((res) => setLoggedUser(res));\n  };\n\n  const GetRoles = () => {\n    getToken().then((res) => {\n      fetch(serwerAdress + \"/getRoles?email=\" + '\"' + res + '\"')\n        .then((response) => response.json())\n        .then((json) => {\n          setRoleToken(json[0].Name);\n        });\n    });\n  };\n\n  const GetUserDetails = (email) => {\n    setEmailToken(email);\n    navigation.navigate(\"Informacje o Użytkowniku\", { name: \"Informacje\" });\n  };\n\n  // onScreenLoad\n  useEffect(() => {\n    GetLoggedUser();\n    GetList();\n    GetRoles();\n  }, []);\n\n  return (\n    <SafeAreaView style={styles.body}>\n      <Text style={styles.loggedUserStyle}>\n        Zalogowany jako, {loggedUser ? loggedUser : null}\n      </Text>\n      <View style={styles.container}>\n        <Text style={styles.ARMtitle}>Aplikacja Ratowników Mazowsza</Text>\n        <View style={styles.usersList}>\n          <FlatList\n            showsVerticalScrollIndicator={false}\n            showsHorizontalScrollIndicator={false}\n            data={Users}\n            renderItem={({ item }) => (\n              <View>\n                {item.State == 1 ? (\n                  <TouchableOpacity>\n                    <Text\n                      style={styles.users}\n                      onPress={() => GetUserDetails(item.Email)}\n                    >\n                      {item.Name} -{\" \"}\n                      <Text style={states.available}>Dostępny</Text>\n                    </Text>\n                  </TouchableOpacity>\n                ) : item.State == 2 ? (\n                  <Text\n                    style={styles.users}\n                    onPress={() => GetUserDetails(item.Email)}\n                  >\n                    {item.Name} - {\"\"}\n                    <Text style={states.unavailable}>Niedostępny</Text>\n                  </Text>\n                ) : item.State == 3 ? (\n                  <Text\n                    style={styles.users}\n                    onPress={() => GetUserDetails(item.Email)}\n                  >\n                    {item.Name} - {\"\"}\n                    <Text style={states.busy}>Na akcji</Text>\n                  </Text>\n                ) : (\n                  <Text style={styles.users}>\n                    Błąd wczytywania użytkowników\n                  </Text>\n                )}\n              </View>\n            )}\n            keyExtractor={(item, index) => index.toString()}\n          />\n        </View>\n        <View style={styles.refreshbutton}>\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={GetList}\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Odśwież listę\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={() =>\n              navigation.navigate(\"Wydarzenia\", { name: \"Wydarzenia\" })\n            }\n          >\n            <Text style={navigationStyle.navigationButtonText}>Wydarzenia</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={() =>\n              navigation.navigate(\"Mój profil\", { name: \"Mój profil\" })\n            }\n          >\n            <Text style={navigationStyle.navigationButtonText}>Mój profil</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={() =>\n              navigation.navigate(\"Logowanie\", { name: \"Logowanie\" })\n            }\n          >\n            <Text style={navigationStyle.navigationButtonText}>Wyloguj</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n}\n\n// Mój profil\n\nexport function ARMMyProfile({ navigation }) {\n  const [loggedUser, setLoggedUser] = useState(\"\");\n\n  const [userName, setUserName] = useState(\"\");\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userRole, setUserRole] = useState(\"\");\n\n  const [currentState, setCurrentState] = useState(\"\");\n  const [selectedState, setSelectedState] = useState(1);\n\n  const GetLoggedUser = () => {\n    getToken().then((res) => {\n      setLoggedUser(res);\n      fetch(serwerAdress + \"/getUserInfo?email=\" + '\"' + res + '\"')\n        .then((response) => response.json())\n        .then((json) => {\n          setUserName(json[0].Name);\n          setUserEmail(json[0].Email);\n          setCurrentState(json[0].State);\n        });\n    });\n  };\n\n  const SetUserState = () => {\n    fetch(\n      serwerAdress +\n        \"/getUserState?email=\" +\n        '\"' +\n        userEmail +\n        '\"' +\n        \"&state=\" +\n        '\"' +\n        selectedState +\n        '\"'\n    ).then(GetLoggedUser);\n  };\n\n  const GetUserRole = () => {\n    getRoleToken().then((res) => setUserRole(res));\n  };\n\n  useEffect(() => {\n    GetLoggedUser();\n    GetUserRole();\n  }, []);\n\n  return (\n    <SafeAreaView style={styles.body}>\n      <Text style={styles.loggedUserStyle}>\n        Zalogowany jako, {loggedUser ? loggedUser : null}\n      </Text>\n      <View>\n        <Text style={styles.title}>Mój profil</Text>\n        <View>\n          <Text style={myProfile.myData}>\n            Imię: {userName ? userName : null}\n          </Text>\n          <Text style={myProfile.myData}>\n            Email: {userEmail ? userEmail : null}\n          </Text>\n          <Text style={myProfile.myData}>\n            Rola: {userRole ? userRole : null}\n          </Text>\n          <Text style={myProfile.myState}>\n            Twój obecny status to:{\" \"}\n            {currentState == 1 ? (\n              <Text style={states.available}>Dostępny</Text>\n            ) : currentState == 2 ? (\n              <Text style={states.unavailable}>Niedostępny</Text>\n            ) : currentState == 3 ? (\n              <Text style={states.busy}>Na akcji</Text>\n            ) : null}\n          </Text>\n          <Text style={myProfile.myData}>Zmień swój obecny status na: </Text>\n          <DropDownPicker\n            items={[\n              { label: \"Dostępny\", value: 1 },\n              { label: \"Niedostępny\", value: 2 },\n              { label: \"Na akcji\", value: 3 },\n            ]}\n            containerStyle={{ height: 6 * vh }}\n            defaultValue={selectedState}\n            style={myProfile.statePicker}\n            dropDownStyle={{ backgroundColor: \"dodgerblue\" }}\n            onChangeItem={(itemValue) => setSelectedState(itemValue.value)}\n          />\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={SetUserState}\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Zmień status\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={() =>\n              navigation.navigate(\"Zmiana hasła\", { name: \"Zmiana hasła\" })\n            }\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Zmiana hasła\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={\n              userRole == \"Admin\"\n                ? navigationStyle.navigationButton\n                : { display: \"none\" }\n            }\n            onPress={() =>\n              navigation.navigate(\"Rejestracja\", { name: \"Rejestracja\" })\n            }\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Zarejestruj użytkownika\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={() => navigation.navigate(\"ARM\", { name: \"ARM\" })}\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Powrót do listy\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n}\n\nexport function ARMChangePassword({ navigation }) {\n  const [loggedUser, setLoggedUser] = useState(\"\");\n\n  const [userEmail, setUserEmail] = useState(\"\");\n\n  const [shouldShow, setShouldShow] = useState(true);\n  const [errMessage, setErrMessage] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [oldPassword, setOldPassword] = useState(\"\");\n\n  const GetLoggedUser = () => {\n    getToken().then((res) => {\n      setLoggedUser(res);\n      fetch(serwerAdress + \"/getUserInfo?email=\" + '\"' + res + '\"')\n        .then((response) => response.json())\n        .then((json) => {\n          setUserEmail(json[0].Email);\n        });\n    });\n  };\n\n  const GetUserPassword = () => {\n    setErrMessage(\"\");\n\n    fetch(\n      serwerAdress +\n        \"/getPassword?email=\" +\n        '\"' +\n        userEmail +\n        '\"&password=' +\n        '\"' +\n        oldPassword +\n        '\"'\n    )\n      .then((response) => response.json())\n      .then((json) => {\n        if (json[0].result == 0) {\n          setErrMessage(\"Podano złe hasło\");\n          setOldPassword(\"\");\n        }\n\n        if (json[0].result == 1) {\n          setShouldShow(!shouldShow);\n        }\n      });\n  };\n\n  const SetUserPassword = () => {\n    setErrMessage(\"\");\n\n    fetch(\n      serwerAdress +\n        \"/setPassword?email=\" +\n        '\"' +\n        userEmail +\n        '\"&password=' +\n        '\"' +\n        newPassword +\n        '\"'\n    )\n      .then((response) => response.json())\n      .then((json) => {\n        if (json[0].result == 0) {\n          setErrMessage(\"Coś poszło nie tak, spróbuj ponownie\");\n        }\n\n        if (json[0].result == 1) {\n          setShouldShow(!shouldShow);\n          setNewPassword(\"\");\n          setOldPassword(\"\");\n          setErrMessage(\"Udało się zmienić hasło\");\n        }\n      });\n  };\n\n  useEffect(() => {\n    GetLoggedUser();\n  }, []);\n\n  return (\n    <SafeAreaView style={styles.body} onTouchStart={Keyboard.dismiss}>\n      <Text style={styles.loggedUserStyle}>\n        Zalogowany jako, {loggedUser ? loggedUser : null}\n      </Text>\n      <View>\n        <Text style={styles.title}>Zmiana hasła</Text>\n        <View>\n          {shouldShow ? (\n            <View>\n              <TextInput\n                secureTextEntry={true}\n                style={myProfile.newPasswordText}\n                placeholder=\"Podaj stare hasło\"\n                value={oldPassword}\n                onChangeText={(val) => setOldPassword(val)}\n              />\n              <TouchableOpacity\n                style={navigationStyle.navigationButton}\n                onPress={GetUserPassword}\n              >\n                <Text style={navigationStyle.navigationButtonText}>\n                  Zmień hasło\n                </Text>\n              </TouchableOpacity>\n            </View>\n          ) : (\n            <View>\n              <TextInput\n                secureTextEntry={true}\n                style={myProfile.newPasswordText}\n                placeholder=\"Podaj nowe hasło\"\n                value={newPassword}\n                onChangeText={(val) => setNewPassword(val)}\n              />\n              <TouchableOpacity\n                style={navigationStyle.navigationButton}\n                onPress={SetUserPassword}\n              >\n                <Text style={navigationStyle.navigationButtonText}>\n                  Zmień hasło\n                </Text>\n              </TouchableOpacity>\n            </View>\n          )}\n          {errMessage ? (\n            <View style={styles.errMessageStyle}>\n              <Text style={styles.errMessageColor}>{errMessage}</Text>\n            </View>\n          ) : null}\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={() =>\n              navigation.navigate(\"Mój profil\", { name: \"Mój profil\" })\n            }\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Powrót do mojego profilu\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n}\n\nexport function ARMUserRegistration({ navigation }) {\n  const [loggedUser, setLoggedUser] = useState(\"\");\n\n  const [shouldShow, setShouldShow] = useState(true);\n  const [shouldDisable, setShouldDisable] = useState(true);\n  const [errMessage, setErrMessage] = useState(\"\");\n  const [emailErrMessage, setEmailErrMessage] = useState(\"\");\n\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [role, setRole] = useState(1);\n\n  const GetLoggedUser = () => {\n    getToken().then((res) => {\n      setLoggedUser(res);\n    });\n  };\n\n  const validateEmail = (email) => {\n    setEmailErrMessage(\"\");\n    setEmail(email);\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    var result = re.test(email);\n    if (result == false) {\n      setEmailErrMessage(\"Wpisano niepoprawny email\");\n      setShouldDisable(true);\n    }\n\n    if (result == true) {\n      setEmailErrMessage(\"\");\n      setErrMessage(\"\");\n      setShouldDisable(false);\n    }\n  };\n\n  const IsThereUser = () => {\n    fetch(serwerAdress + \"/isThereUser?email=\" + '\"' + email + '\"')\n      .then((response) => response.json())\n      .then((json) => {\n        if (json[0].result == 1) setErrMessage(\"Podany email już istnieje\");\n\n        if (json[0].result == 0) {\n          setErrMessage(\"\");\n          setShouldShow(!shouldShow);\n        }\n      });\n  };\n\n  const CreateUser = () => {\n    fetch(\n      serwerAdress +\n        \"/createUser?email=\" +\n        '\"' +\n        email +\n        '\"' +\n        \"&password=\" +\n        '\"' +\n        password +\n        '\"' +\n        \"&name=\" +\n        '\"' +\n        name +\n        '\"' +\n        \"&role=\" +\n        '\"' +\n        role +\n        '\"'\n    )\n      .then((response) => response.json())\n      .then((json) => {\n        if (json[0].result == 0)\n          setErrMessage(\n            \"Wystąpił błąd w trakcie tworzenia użytkownika, spróbuj ponownie\"\n          );\n\n        if (json[0].result == 1) {\n          setErrMessage(\"Udało się utworzyć nowego użytkownika\");\n          sendRegistrationEmail();\n        }\n      });\n  };\n\n  const sendRegistrationEmail = () => {\n    fetch(serwerAdress + \"/sendMail?password=\" + password + \"&email=\" + email);\n  };\n\n  useEffect(() => {\n    GetLoggedUser();\n  }, []);\n\n  return (\n    <SafeAreaView style={styles.body} onTouchStart={Keyboard.dismiss}>\n      <Text style={styles.loggedUserStyle}>\n        Zalogowany jako, {loggedUser ? loggedUser : null}\n      </Text>\n      <View>\n        <Text style={styles.title}>Rejestracja nowego użytkownika</Text>\n        <View>\n          {shouldShow ? (\n            <View>\n              <TextInput\n                style={myProfile.registrationText}\n                placeholder=\"Podaj email\"\n                value={email}\n                onChangeText={(val) => validateEmail(val)}\n              />\n              {emailErrMessage ? (\n                <View style={styles.errMessageStyle}>\n                  <Text style={styles.errMessageColor}>{emailErrMessage}</Text>\n                </View>\n              ) : null}\n              <TouchableOpacity\n                style={navigationStyle.navigationButton}\n                disabled={shouldDisable}\n                onPress={IsThereUser}\n              >\n                <Text style={navigationStyle.navigationButtonText}>\n                  Zarejestruj\n                </Text>\n              </TouchableOpacity>\n            </View>\n          ) : (\n            <View>\n              <TextInput\n                style={myProfile.registrationText}\n                placeholder=\"Podaj email\"\n                value={email}\n                editable={shouldShow}\n                onChangeText={(val) => setEmail(val)}\n              />\n              <TextInput\n                style={myProfile.registrationText}\n                placeholder=\"Podaj Imię użytkownika\"\n                value={name}\n                onChangeText={(val) => setName(val)}\n              />\n              <TextInput\n                secureTextEntry={true}\n                style={myProfile.registrationText}\n                placeholder=\"Podaj tymczasowe hasło\"\n                value={password}\n                onChangeText={(val) => setPassword(val)}\n              />\n              <Picker\n                selectedValue={role}\n                style={myProfile.statePicker}\n                onValueChange={(itemValue, itemIndex) => setRole(itemValue)}\n              >\n                <Picker.Item label=\"Admin\" value=\"1\" />\n                <Picker.Item label=\"Koordynator\" value=\"2\" />\n                <Picker.Item label=\"Użytkownik\" value=\"3\" />\n              </Picker>\n              <TouchableOpacity\n                style={navigationStyle.navigationButton}\n                onPress={CreateUser}\n              >\n                <Text style={navigationStyle.navigationButtonText}>\n                  Zarejestruj\n                </Text>\n              </TouchableOpacity>\n            </View>\n          )}\n          {errMessage ? (\n            <View style={styles.errMessageStyle}>\n              <Text style={styles.errMessageColor}>{errMessage}</Text>\n            </View>\n          ) : null}\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={() =>\n              navigation.navigate(\"Mój profil\", { name: \"Mój profil\" })\n            }\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Powrót do mojego profilu\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n}\n\nexport function ARMUserDetails({ navigation }) {\n  const [loggedUser, setLoggedUser] = useState(\"\");\n\n  const [userName, setUserName] = useState(\"\");\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userRole, setUserRole] = useState(\"\");\n  const [currentState, setCurrentState] = useState(\"\");\n\n  const GetLoggedUser = () => {\n    getToken().then((res) => {\n      setLoggedUser(res);\n    });\n  };\n\n  const GetSelectedUserInfo = () => {\n    getEmailToken().then((res) => {\n      fetch(serwerAdress + \"/getSelectedUserInfo?email=\" + '\"' + res + '\"')\n        .then((response) => response.json())\n        .then((json) => {\n          setUserName(json[0].Name);\n          setUserEmail(json[0].Email);\n          setCurrentState(json[0].State);\n          setUserRole(json[0].RoleName);\n        });\n    });\n  };\n\n  useEffect(() => {\n    GetLoggedUser();\n    GetSelectedUserInfo();\n  }, []);\n\n  return (\n    <SafeAreaView style={styles.body}>\n      <Text style={styles.loggedUserStyle}>\n        Zalogowany jako, {loggedUser ? loggedUser : null}\n      </Text>\n      <View>\n        <Text style={styles.title}>Informacje o użytkowniku</Text>\n        <View>\n          <Text style={myProfile.myData}>\n            Imię: {userName ? userName : null}\n          </Text>\n          <Text style={myProfile.myData}>\n            Email: {userEmail ? userEmail : null}\n          </Text>\n          <Text style={myProfile.myData}>\n            Rola: {userRole ? userRole : null}\n          </Text>\n          <Text style={myProfile.myData}>\n            Status:{\" \"}\n            {currentState == 1 ? (\n              <Text style={states.available}>Dostępny</Text>\n            ) : currentState == 2 ? (\n              <Text style={states.unavailable}>Niedostępny</Text>\n            ) : currentState == 3 ? (\n              <Text style={states.busy}>Na akcji</Text>\n            ) : null}\n          </Text>\n\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={() => navigation.navigate(\"ARM\", { name: \"ARM\" })}\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Powrót do listy\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n}\n\n// Wydarzenia\n\nexport function ARMEvents({ navigation }) {\n  const [Events, setEvents] = useState([]); // lista wydarzeń\n  const [loggedUser, setLoggedUser] = useState(\"\");\n  const [userRole, setUserRole] = useState(\"\");\n\n  const GetEvents = () => {\n    fetch(serwerAdress + \"/events\")\n      .then((response) => response.json())\n      .then((json) => {\n        setEvents(json);\n      });\n  };\n\n  const GetLoggedUser = () => {\n    getToken().then((res) => setLoggedUser(res));\n  };\n\n  const GetUserRole = () => {\n    getRoleToken().then((res) => setUserRole(res));\n  };\n\n  const GetEventDetails = (Id) => {\n    setEventToken(Id);\n    navigation.navigate(\"Informacje o Wydarzeniu\", {\n      name: \"Informacja o Wydarzeniu\",\n    });\n  };\n\n  useFocusEffect(\n    React.useCallback(() => {\n      GetLoggedUser();\n      GetEvents();\n      Moment.locale(\"pl\");\n      GetUserRole();\n    }, [])\n  );\n\n  return (\n    <SafeAreaView style={styles.body}>\n      <Text style={styles.loggedUserStyle}>\n        Zalogowany jako, {loggedUser ? loggedUser : null}\n      </Text>\n      <View style={styles.container}>\n        <Text style={styles.title}>Lista wydarzeń</Text>\n        <View style={styles.eventsList}>\n          <FlatList\n            showsVerticalScrollIndicator={false}\n            showsHorizontalScrollIndicator={false}\n            data={Events}\n            renderItem={({ item }) => (\n              <View style={styles.marginTop15}>\n                <TouchableOpacity>\n                  <Text\n                    style={styles.events}\n                    onPress={() => GetEventDetails(item.Id)}\n                  >\n                    {item.Name}\n                    {\"\\n\"}\n                    {Moment(item.DateFrom).format(\"DD-MM-yyyy hh:mm\")}\n                    {\"\\n\"}\n                    {item.DateTo == null || item.DateTo == \"\"\n                      ? \"-\"\n                      : Moment(item.DateTo).format(\"DD-MM-yyyy hh:mm\")}\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            )}\n            keyExtractor={(item, index) => index.toString()}\n          />\n        </View>\n        <View style={styles.refreshbutton}>\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={GetEvents}\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Odśwież listę wydarzeń\n            </Text>\n          </TouchableOpacity>\n          {userRole == \"Admin\" || userRole == \"Koordynator\" ? (\n            <TouchableOpacity\n              style={navigationStyle.navigationButton}\n              onPress={() =>\n                navigation.navigate(\"Dodaj wydarzenie\", {\n                  name: \"Dodaj wydarzenie\",\n                })\n              }\n            >\n              <Text style={navigationStyle.navigationButtonText}>\n                Dodaj wydarzenie\n              </Text>\n            </TouchableOpacity>\n          ) : null}\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={() => navigation.navigate(\"ARM\", { name: \"ARM\" })}\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Powrót do listy użytkowników\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n}\n\nexport function ARMEventDetails({ navigation }) {\n  const [loggedUser, setLoggedUser] = useState(\"\");\n  const [userRole, setUserRole] = useState(\"\");\n  const [eventId, setEventId] = useState(0);\n  const [errMessage, setErrMessage] = useState(\"\");\n\n  const [UsersInEvents, setUsersInEvents] = useState([]);\n\n  const [shouldShow, setShouldShow] = useState(true);\n\n  const [eventName, setEventName] = useState(\"\");\n  const [eventLocalization, setEventLokalization] = useState(\"\");\n  const [eventFrom, setEventFrom] = useState(\"\");\n  const [eventTo, setEventTo] = useState(\"\");\n\n  const GetLoggedUser = () => {\n    getToken().then((res) => {\n      setLoggedUser(res);\n    });\n  };\n\n  const GetUserRole = () => {\n    getRoleToken().then((res) => {\n      setUserRole(res);\n    });\n  };\n\n  const GetEventInfo = () => {\n    getEventToken().then((res) =>\n      fetch(serwerAdress + \"/eventById?Id=\" + res)\n        .then((response) => response.json())\n        .then((json) => {\n          setEventId(json[0].Id);\n          setEventName(json[0].Name);\n          setEventLokalization(json[0].Localization);\n          setEventFrom(json[0].DateFrom);\n          setEventTo(json[0].DateTo);\n        })\n    );\n  };\n\n  const GetUsersInEvent = () => {\n    getEventToken().then((res) => {\n      fetch(serwerAdress + \"/getUsersInEvent?eventId=\" + res)\n        .then((res) => res.json())\n        .then((json) => {\n          setUsersInEvents(json);\n          getToken().then((res) => {\n            for (var i = 0; i < json.length; i++) {\n              if (json[i].Email == res) {\n                setShouldShow(!shouldShow);\n                return;\n              }\n            }\n          });\n        });\n    });\n  };\n\n  const AddToEvent = () => {\n    fetch(serwerAdress + \"/getUserInfo?email=\" + '\"' + loggedUser + '\"')\n      .then((res) => res.json())\n      .then((json) => {\n        fetch(\n          serwerAdress +\n            \"/addToEvent?userId=\" +\n            json[0].Id +\n            \"&eventId=\" +\n            eventId\n        )\n          .then((json) => json.json())\n          .then((response) => {\n            if (response[0].result == 0)\n              setErrMessage(\n                \"Wystąpił błąd w trakcie dołączania do wydarzenia, spróbuj ponownie\"\n              );\n            if (response[0].result == 1) {\n              setErrMessage(\"Udało się dołączyć do wydarzenia\");\n              GetUsersInEvent();\n              setShouldShow(!shouldShow);\n            }\n          });\n      });\n  };\n\n  const QuitEvent = () => {\n    fetch(serwerAdress + \"/getUserInEvent?Email=\" + '\"' + loggedUser + '\"')\n      .then((res) => res.json())\n      .then((json) =>\n        fetch(serwerAdress + \"/deleteFromEvent?Id=\" + json[0].Id).then(\n          (response) =>\n            response.json().then((json) => {\n              if (json[0].result == 0)\n                setErrMessage(\n                  \"Wystąpił błąd w trakcie opuszczania wydarzenia, spróbuj ponownie\"\n                );\n              if (json[0].result == 1) {\n                setErrMessage(\"Udało się opuścić wydarzenie\");\n                GetUsersInEvent();\n                setShouldShow(!shouldShow);\n              }\n            })\n        )\n      );\n  };\n\n  const DeleteEvent = () => {\n    fetch(serwerAdress + \"/deleteEvent?eventId=\" + eventId).then(() => {\n      navigation.navigate(\"Wydarzenia\", { name: \"Wydarzenia\" });\n    });\n  };\n\n  useEffect(() => {\n    GetLoggedUser();\n    GetEventInfo();\n    GetUsersInEvent();\n    GetUserRole();\n  }, []);\n\n  return (\n    <SafeAreaView style={styles.body}>\n      <Text style={styles.loggedUserStyle}>\n        Zalogowany jako, {loggedUser ? loggedUser : null}\n      </Text>\n      <View>\n        <Text style={styles.title}>Informacje o wydarzeniu</Text>\n        <View>\n          <Text style={myProfile.myData}>\n            Nazwa: {eventName ? eventName : null}\n          </Text>\n          <Text style={myProfile.myData}>\n            Lokalizacja: {eventLocalization ? eventLocalization : null}\n          </Text>\n          <Text style={myProfile.myData}>\n            Data rozpoczęcia:{\" \"}\n            {eventFrom ? Moment(eventFrom).format(\"DD-MM-yyyy hh:mm\") : null}\n          </Text>\n          <Text style={myProfile.myData}>\n            Data zakończenia:{\" \"}\n            {eventTo ? Moment(eventTo).format(\"DD-MM-yyyy hh:mm\") : null}\n          </Text>\n          <Text style={styles.title}>Osoby biorące udział w wydarzeniu: </Text>\n          <View style={styles.usersInEventList}>\n            <FlatList\n              showsVerticalScrollIndicator={false}\n              showsHorizontalScrollIndicator={false}\n              data={UsersInEvents}\n              renderItem={({ item }) => (\n                <View style={styles.marginTop15}>\n                  <Text style={styles.events}>\n                    {item.UserName} - {item.Email}\n                  </Text>\n                </View>\n              )}\n              keyExtractor={(item, index) => index.toString()}\n            />\n          </View>\n          {shouldShow ? (\n            <TouchableOpacity\n              style={navigationStyle.navigationButton}\n              onPress={AddToEvent}\n            >\n              <Text style={navigationStyle.navigationButtonText}>\n                Dołącz do wydarzenia\n              </Text>\n            </TouchableOpacity>\n          ) : (\n            <TouchableOpacity\n              style={navigationStyle.navigationButton}\n              onPress={QuitEvent}\n            >\n              <Text style={navigationStyle.navigationButtonText}>\n                Opuść wydarzenie\n              </Text>\n            </TouchableOpacity>\n          )}\n          {errMessage ? (\n            <View style={styles.eventErrMessageStyle}>\n              <Text style={styles.errMessageColor}>{errMessage}</Text>\n            </View>\n          ) : null}\n          {userRole == \"Admin\" || userRole == \"Koordynator\" ? (\n            <TouchableOpacity\n              style={navigationStyle.navigationButton}\n              onPress={DeleteEvent}\n            >\n              <Text style={navigationStyle.navigationButtonText}>\n                Usuń wydarzenie\n              </Text>\n            </TouchableOpacity>\n          ) : null}\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={() =>\n              navigation.navigate(\"Wydarzenia\", { name: \"Wydarzenia\" })\n            }\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Powrót do wydarzeń\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n}\n\nexport function ARMAddEvent({ navigation }) {\n  const [loggedUser, setLoggedUser] = useState(\"\");\n\n  const [errEventName, setErrEventName] = useState(\"\");\n  const [errEventLocalization, setErrEventLocalization] = useState(\"\");\n  const [errMessage, setErrMessage] = useState(\"\");\n  const [errFromMessage, setErrFromMessage] = useState(\"\");\n  const [errToMessage, setErrToMessage] = useState(\"\");\n\n  const [eventName, setEventName] = useState(\"\");\n  const [eventLocalization, setEventLocalization] = useState(\"\");\n  const [eventFrom, setEventFrom] = useState(\"\");\n  const [eventTo, setEventTo] = useState(\"\");\n\n  const GetLoggedUser = () => {\n    getToken().then((res) => {\n      setLoggedUser(res);\n    });\n  };\n\n  const eventNameInput = (val) => {\n    setErrEventName(\"\");\n    if (val == \"\") {\n      setErrEventName(\"Uzupełnij nazwę wydarzenia\");\n    }\n    setEventName(val);\n  };\n\n  const eventLocalizationInput = (val) => {\n    setErrEventLocalization(\"\");\n    if (val == \"\") {\n      setErrEventLocalization(\"Uzupełnij localizację wydarzenia\");\n    }\n    setEventLocalization(val);\n  };\n\n  const validateFromDate = (date) => {\n    setErrFromMessage(\"\");\n    setErrMessage(\"\");\n    setEventFrom(date);\n    if (date == null || date == \"\") return;\n    var re = /^([1-9]|([012][0-9])|(3[01]))-([0]{0,1}[1-9]|1[012])-\\d\\d\\d\\d\\s([0-1]?[0-9]|2?[0-3]):([0-5]\\d)$/;\n    var result = re.test(date);\n    if (result == false) {\n      setErrFromMessage(\n        \"Wpisano niepoprawną datę rozpoczęcia \\nData powinna mieć format dd-mm-yyyy hh:mm\"\n      );\n    }\n\n    if (result == true) {\n      setErrMessage(\"\");\n      setErrFromMessage(\"\");\n    }\n  };\n\n  const validateToDate = (date) => {\n    setErrToMessage(\"\");\n    setErrMessage(\"\");\n    setEventTo(date);\n    if (date == null || date == \"\") return;\n    var re = /^([1-9]|([012][0-9])|(3[01]))-([0]{0,1}[1-9]|1[012])-\\d\\d\\d\\d\\s([0-1]?[0-9]|2?[0-3]):([0-5]\\d)$/;\n    var result = re.test(date);\n    if (result == false) {\n      setErrToMessage(\n        \"Wpisano niepoprawną datę zakończenia \\nData powinna mieć format dd-mm-yyyy hh:mm\"\n      );\n    }\n\n    if (result == true) {\n      setErrMessage(\"\");\n      setErrToMessage(\"\");\n    }\n  };\n\n  const AddEvent = () => {\n    setErrMessage(\"\");\n    setErrEventName(\"\");\n    setErrEventLocalization(\"\");\n\n    if (eventName == \"\") {\n      setErrEventName(\"Uzupełnij nazwę wydarzenia\");\n    }\n    if (eventLocalization == \"\") {\n      setErrEventLocalization(\"Uzupełnij lokalizację wydarzenia\");\n    }\n    if (eventFrom == \"\") {\n      setErrFromMessage(\"Uzupełnij datę rozpoczęcia\");\n    }\n    if (eventTo != null || eventTo != \"\") {\n      if (new Date(eventFrom) > new Date(eventTo)) {\n        setErrMessage(\n          \"Data rozpoczęcia nie może być mniejsza od daty zakończenia\"\n        );\n        return;\n      }\n    }\n\n    if (eventName == \"\" || eventLocalization == \"\" || eventFrom == \"\") return;\n\n    var dateFrom = Moment(eventFrom, \"DD-MM-yyyy hh:mm\").format(\n      \"yyyy-MM-DD hh:mm\"\n    );\n    var dateTo = null;\n    if (eventTo != \"\")\n      dateTo =\n        '\"' +\n        Moment(eventTo, \"DD-MM-yyyy hh:mm\").format(\"yyyy-MM-DD hh:mm\") +\n        '\"';\n\n    fetch(\n      serwerAdress +\n        \"/addEvent?eventName=\" +\n        '\"' +\n        eventName +\n        '\"' +\n        \"&eventLocalization=\" +\n        '\"' +\n        eventLocalization +\n        '\"' +\n        \"&eventFrom=\" +\n        '\"' +\n        dateFrom +\n        '\"' +\n        \"&eventTo=\" +\n        dateTo\n    )\n      .then((res) => res.json())\n      .then((json) => {\n        if (json[0].result == 1) {\n          setErrMessage(\"Udało się stworzyć nowe wydarzenie\");\n          navigation.navigate(\"Wydarzenia\", { name: \"Wydarzenia\" });\n        }\n\n        if (json[0].result == 0)\n          setErrMessage(\n            \"Nie udało się utworzyć nowego wydarzenia, spróbuj ponownie\"\n          );\n      });\n  };\n\n  useEffect(() => {\n    GetLoggedUser();\n    Moment.locale(\"pl\");\n  }, []);\n\n  return (\n    <SafeAreaView style={styles.body}>\n      <Text style={styles.loggedUserStyle}>\n        Zalogowany jako, {loggedUser ? loggedUser : null}\n      </Text>\n      <View style={{ width: 300 }}>\n        <Text style={styles.title}>Dodaj wydarzenie</Text>\n        <View>\n          <TextInput\n            style={styles.textInputStyle}\n            placeholder=\"Nazwa wydarzenia\"\n            value={eventName}\n            onChangeText={(val) => eventNameInput(val)}\n          />\n          {errEventName ? (\n            <View style={styles.eventErrMessageStyle}>\n              <Text style={styles.errMessageColor}>{errEventName}</Text>\n            </View>\n          ) : null}\n          <TextInput\n            style={styles.textInputStyle}\n            placeholder=\"Podaj lokalizację\"\n            value={eventLocalization}\n            onChangeText={(val) => eventLocalizationInput(val)}\n          />\n          {errEventLocalization ? (\n            <View style={styles.eventErrMessageStyle}>\n              <Text style={styles.errMessageColor}>{errEventLocalization}</Text>\n            </View>\n          ) : null}\n          <TextInput\n            style={styles.textInputStyle}\n            placeholder=\"Podaj datę rozpoczęcia\"\n            value={eventFrom}\n            onChangeText={(val) => validateFromDate(val)}\n          />\n          {errFromMessage ? (\n            <View style={styles.eventErrMessageStyle}>\n              <Text style={styles.errMessageColor}>{errFromMessage}</Text>\n            </View>\n          ) : null}\n          <TextInput\n            style={styles.textInputStyle}\n            placeholder=\"Podaj datę zakończenia\"\n            value={eventTo}\n            onChangeText={(val) => validateToDate(val)}\n          />\n          {errToMessage ? (\n            <View style={styles.eventErrMessageStyle}>\n              <Text style={styles.errMessageColor}>{errToMessage}</Text>\n            </View>\n          ) : null}\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={AddEvent}\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Dodaj wydarzenie\n            </Text>\n          </TouchableOpacity>\n          {errMessage ? (\n            <View style={styles.eventErrMessageStyle}>\n              <Text style={styles.errMessageColor}>{errMessage}</Text>\n            </View>\n          ) : null}\n          <TouchableOpacity\n            style={navigationStyle.navigationButton}\n            onPress={() =>\n              navigation.navigate(\"Wydarzenia\", { name: \"Wydarzenia\" })\n            }\n          >\n            <Text style={navigationStyle.navigationButtonText}>\n              Powrót do wydarzeń\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n}\n\n// Css Styles\n\nconst styles = StyleSheet.create({\n  body: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"dodgerblue\",\n  },\n  container: {\n    height: 70 * vh,\n  },\n  ARMtitle: {\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    fontSize: 2.5 * vh,\n    fontWeight: \"bold\",\n    marginBottom: \"5%\",\n    marginTop: \"-5%\",\n  },\n  title: {\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    fontSize: 2.5 * vh,\n    fontWeight: \"bold\",\n    marginBottom: \"5%\",\n    marginTop: \"5%\",\n  },\n  usersList: {\n    height: 40 * vh,\n    alignItems: \"center\",\n  },\n  usersInEventList: {\n    height: 26 * vh,\n    alignItems: \"center\",\n  },\n  users: {\n    alignItems: \"center\",\n    fontSize: 2.3 * vh,\n    marginTop: 20,\n  },\n  eventsList: {\n    height: 40 * vh,\n    alignItems: \"center\",\n  },\n  events: {\n    justifyContent: \"center\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    fontSize: 2 * vh,\n    marginTop: 5,\n  },\n  refreshbutton: {\n    marginTop: \"5%\",\n    borderRadius: 5,\n  },\n  textInputStyle: {\n    height: 5 * vh,\n    width: \"95%\",\n    margin: 5,\n    marginBottom: 15,\n  },\n  errMessageStyle: {\n    padding: 10,\n    position: \"relative\",\n    width: 200,\n  },\n  eventErrMessageStyle: {\n    padding: 10,\n    position: \"relative\",\n    width: \"auto\",\n  },\n  errMessageColor: {\n    color: \"orange\",\n  },\n  loggedUserStyle: {\n    position: \"absolute\",\n    top: 20,\n    left: 0,\n    fontSize: 1.5 * vh,\n  },\n  marginTop15: {\n    marginTop: 15,\n  },\n});\n\nconst states = StyleSheet.create({\n  available: {\n    color: \"darkgreen\",\n  },\n  unavailable: {\n    color: \"darkred\",\n  },\n  busy: {\n    color: \"orange\",\n  },\n});\n\nconst navigationStyle = StyleSheet.create({\n  navigationMenu: {\n    display: \"none\",\n    alignContent: \"flex-end\",\n    justifyContent: \"center\",\n  },\n  navigationButton: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 1 * vh,\n    backgroundColor: \"#0064C8\",\n    marginTop: 10,\n    borderRadius: 5,\n  },\n  loginButton: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 1 * vh,\n    backgroundColor: \"#0064C8\",\n    width: 200,\n    borderRadius: 5,\n  },\n  navigationButtonText: {\n    alignItems: \"center\",\n    fontSize: 2 * vh,\n    color: \"white\",\n  },\n});\n\nconst myProfile = StyleSheet.create({\n  myData: {\n    fontSize: 2 * vh,\n    padding: 2,\n    marginTop: 5,\n    fontWeight: \"bold\",\n  },\n  myState: {\n    marginTop: 20,\n    fontSize: 2 * vh,\n    fontWeight: \"bold\",\n  },\n  statePicker: {\n    backgroundColor: \"dodgerblue\",\n  },\n  newPasswordText: {\n    height: 5 * vh,\n    width: \"95%\",\n    margin: 5,\n    marginTop: 15,\n    marginBottom: 5,\n  },\n  registrationText: {\n    width: \"95%\",\n    marginTop: 10,\n    marginBottom: 5,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}