(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{342:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(13),r=a.n(n),o=a(8),s=a.n(o),l=a(0),i=a.n(l),c=(a(407),a(322)),u=a(35),m=a(415),y=function(e){return new Promise((function(t){setTimeout((function(){return t(e)}),100)}))},j=function(e){return new Promise((function(t,a){setTimeout((function(){return a(e)}),100)}))};var f=a(4),d=a.n(f),g=a(38),h=a(62),v=a.n(h),E=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(v.a.getItem("@auth_token"));case 3:if(null===(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),null,null,[[0,8]],Promise)},p=function(e){return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(v.a.setItem("@auth_token",e));case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return",null);case 8:case"end":return t.stop()}}),null,null,[[0,5]],Promise)},b=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(v.a.getItem("@role_token"));case 3:if(null===(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),null,null,[[0,8]],Promise)},w=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(v.a.getItem("@event_token"));case 3:if(null===(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),null,null,[[0,8]],Promise)},S=a(103),z=a(341),k=a(5),x=a(9),T=a(1),O=a(52),P=a(55),I=a(24),M=a(28),B=a(46),D="http://192.168.0.27:3000";function C(){var e=Object(m.a)();return i.a.createElement(c.a,{style:K.navigationMenu},i.a.createElement(e.Navigator,null,i.a.createElement(e.Screen,{name:"Logowanie",component:U,options:{headerShown:!1}}),i.a.createElement(e.Screen,{name:"ARM",component:W,options:{headerShown:!1}}),i.a.createElement(e.Screen,{name:"M\xf3j profil",component:N,options:{headerShown:!1}}),i.a.createElement(e.Screen,{name:"Zmiana has\u0142a",component:R,options:{headerShown:!1}}),i.a.createElement(e.Screen,{name:"Rejestracja",component:Z,options:{headerShown:!1}}),i.a.createElement(e.Screen,{name:"Informacje o U\u017cytkowniku",component:L,options:{headerShown:!1}}),i.a.createElement(e.Screen,{name:"Wydarzenia",component:A,options:{headerShown:!1}}),i.a.createElement(e.Screen,{name:"Informacje o Wydarzeniu",component:_,options:{headerShown:!1}}),i.a.createElement(e.Screen,{name:"Dodaj wydarzenie",component:F,options:{headerShown:!1}})))}function U(e){var t=e.navigation,a=Object(l.useState)(""),n=s()(a,2),o=n[0],c=n[1],u=Object(l.useState)(""),m=s()(u,2),f=m[0],d=m[1],g=Object(l.useState)([]),h=s()(g,2),v=(h[0],h[1]),E=Object(l.useState)(""),b=s()(E,2),w=b[0],S=b[1],z=Object(l.useState)(!1),k=s()(z,2),P=k[0],C=k[1],U=Object(l.useState)(!0),W=s()(U,2),N=W[0],R=W[1];return i.a.createElement(O.a,{style:V.body,onTouchStart:B.a.dismiss},i.a.createElement(T.a,null,i.a.createElement(x.a,{style:V.title},"Logowanie"),i.a.createElement(M.a,{editable:N,style:V.textInputStyle,placeholder:"Nazwa u\u017cytkownika",value:o,onChangeText:function(e){return c(e)}}),P?i.a.createElement(T.a,null,i.a.createElement(M.a,{style:V.textInputStyle,placeholder:"Has\u0142o",value:f,secureTextEntry:!0,onChangeText:function(e){return d(e)}}),i.a.createElement(I.a,{style:K.loginButton,onPress:function(){S(""),function(e,t){return fetch('http://192.168.0.27:3000/getPassword?email="'+e+'"&password="'+t+'"').then((function(e){return e.json()})).then((function(t){return 1==t[0].result?y({loggedUser:e,result:t[0],message:"Success"}):0==t[0].result?j({message:"Wpisano z\u0142e has\u0142o, spr\xf3buj ponownie"}):j({message:"B\u0142\u0105d serwera"})}))}(o,f).then((function(e){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(p(e.loggedUser));case 2:t.navigate("ARM",{name:"ARM"});case 3:case"end":return a.stop()}}),null,null,null,Promise)})).catch((function(e){return S(e.message)})),C(!P),R(!N)}},i.a.createElement(x.a,{style:K.navigationButtonText},"Zaloguj"))):i.a.createElement(I.a,{style:K.loginButton,onPress:function(){S(""),fetch(D+'/userToLogin?email="'+o+'"').then((function(e){return e.json()})).then((function(e){void 0!=e[0]&&"undefined"!=e[0]||S("Podany u\u017cytkownik nie istnieje"),void 0!=e[0]&&(v(e),C(!P),R(!N))}))}},i.a.createElement(x.a,{style:K.navigationButtonText},"Zaloguj")),w?i.a.createElement(T.a,{style:V.errMessageStyle},i.a.createElement(x.a,{style:V.errMessageColor},w)):null))}function W(e){var t=e.navigation,a=Object(l.useState)([]),n=s()(a,2),o=n[0],c=n[1],u=Object(l.useState)(""),m=s()(u,2),y=m[0],j=m[1],f=function(){fetch(D+"/users").then((function(e){return e.json()})).then((function(e){c(e)}))},d=function(){E().then((function(e){fetch(D+'/getRoles?email="'+e+'"').then((function(e){return e.json()})).then((function(e){var t;t=e[0].Name,r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.a.awrap(v.a.setItem("@role_token",t));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",null);case 8:case"end":return e.stop()}}),null,null,[[0,5]],Promise)}))}))},g=function(e){var a;a=e,r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.a.awrap(v.a.setItem("@email_token",a));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",null);case 8:case"end":return e.stop()}}),null,null,[[0,5]],Promise),t.navigate("Informacje o U\u017cytkowniku",{name:"Informacje"})};return Object(l.useEffect)((function(){E().then((function(e){return j(e)})),f(),d()}),[]),i.a.createElement(O.a,{style:V.body},i.a.createElement(x.a,{style:V.loggedUserStyle},"Zalogowany jako, ",y||null),i.a.createElement(T.a,{style:V.container},i.a.createElement(x.a,{style:V.ARMtitle},"Aplikacja Ratownik\xf3w Mazowsza"),i.a.createElement(T.a,{style:V.usersList},i.a.createElement(P.a,{showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,data:o,renderItem:function(e){var t=e.item;return i.a.createElement(T.a,null,1==t.State?i.a.createElement(I.a,null,i.a.createElement(x.a,{style:V.users,onPress:function(){return g(t.Email)}},t.Name," -"," ",i.a.createElement(x.a,{style:H.available},"Dost\u0119pny"))):2==t.State?i.a.createElement(x.a,{style:V.users,onPress:function(){return g(t.Email)}},t.Name," - ","",i.a.createElement(x.a,{style:H.unavailable},"Niedost\u0119pny")):3==t.State?i.a.createElement(x.a,{style:V.users,onPress:function(){return g(t.Email)}},t.Name," - ","",i.a.createElement(x.a,{style:H.busy},"Na akcji")):i.a.createElement(x.a,{style:V.users},"B\u0142\u0105d wczytywania u\u017cytkownik\xf3w"))},keyExtractor:function(e,t){return t.toString()}})),i.a.createElement(T.a,{style:V.refreshbutton},i.a.createElement(I.a,{style:K.navigationButton,onPress:f},i.a.createElement(x.a,{style:K.navigationButtonText},"Od\u015bwie\u017c list\u0119")),i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){return t.navigate("Wydarzenia",{name:"Wydarzenia"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"Wydarzenia")),i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){return t.navigate("M\xf3j profil",{name:"M\xf3j profil"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"M\xf3j profil")),i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){return t.navigate("Logowanie",{name:"Logowanie"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"Wyloguj")))))}function N(e){var t=e.navigation,a=Object(l.useState)(""),n=s()(a,2),r=n[0],o=n[1],c=Object(l.useState)(""),u=s()(c,2),m=u[0],y=u[1],j=Object(l.useState)(""),f=s()(j,2),d=f[0],h=f[1],v=Object(l.useState)(""),p=s()(v,2),w=p[0],S=p[1],k=Object(l.useState)(""),P=s()(k,2),M=P[0],B=P[1],C=Object(l.useState)(1),U=s()(C,2),W=U[0],N=U[1],R=function(){E().then((function(e){o(e),fetch(D+'/getUserInfo?email="'+e+'"').then((function(e){return e.json()})).then((function(e){y(e[0].Name),h(e[0].Email),B(e[0].State)}))}))};return Object(l.useEffect)((function(){R(),b().then((function(e){return S(e)}))}),[]),i.a.createElement(O.a,{style:V.body},i.a.createElement(x.a,{style:V.loggedUserStyle},"Zalogowany jako, ",r||null),i.a.createElement(T.a,null,i.a.createElement(x.a,{style:V.title},"M\xf3j profil"),i.a.createElement(T.a,null,i.a.createElement(x.a,{style:$.myData},"Imi\u0119: ",m||null),i.a.createElement(x.a,{style:$.myData},"Email: ",d||null),i.a.createElement(x.a,{style:$.myData},"Rola: ",w||null),i.a.createElement(x.a,{style:$.myState},"Tw\xf3j obecny status to:"," ",1==M?i.a.createElement(x.a,{style:H.available},"Dost\u0119pny"):2==M?i.a.createElement(x.a,{style:H.unavailable},"Niedost\u0119pny"):3==M?i.a.createElement(x.a,{style:H.busy},"Na akcji"):null),i.a.createElement(x.a,{style:$.myData},"Zmie\u0144 sw\xf3j obecny status na: "),i.a.createElement(z.a,{items:[{label:"Dost\u0119pny",value:1},{label:"Niedost\u0119pny",value:2},{label:"Na akcji",value:3}],containerStyle:{height:6*g.vh},defaultValue:W,style:$.statePicker,dropDownStyle:{backgroundColor:"dodgerblue"},onChangeItem:function(e){return N(e.value)}}),i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){fetch(D+'/getUserState?email="'+d+'"&state="'+W+'"').then(R)}},i.a.createElement(x.a,{style:K.navigationButtonText},"Zmie\u0144 status")),i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){return t.navigate("Zmiana has\u0142a",{name:"Zmiana has\u0142a"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"Zmiana has\u0142a")),i.a.createElement(I.a,{style:"Admin"==w?K.navigationButton:{display:"none"},onPress:function(){return t.navigate("Rejestracja",{name:"Rejestracja"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"Zarejestruj u\u017cytkownika")),i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){return t.navigate("ARM",{name:"ARM"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"Powr\xf3t do listy")))))}function R(e){var t=e.navigation,a=Object(l.useState)(""),n=s()(a,2),r=n[0],o=n[1],c=Object(l.useState)(""),u=s()(c,2),m=u[0],y=u[1],j=Object(l.useState)(!0),f=s()(j,2),d=f[0],g=f[1],h=Object(l.useState)(""),v=s()(h,2),p=v[0],b=v[1],w=Object(l.useState)(""),S=s()(w,2),z=S[0],k=S[1],P=Object(l.useState)(""),C=s()(P,2),U=C[0],W=C[1];return Object(l.useEffect)((function(){E().then((function(e){o(e),fetch(D+'/getUserInfo?email="'+e+'"').then((function(e){return e.json()})).then((function(e){y(e[0].Email)}))}))}),[]),i.a.createElement(O.a,{style:V.body,onTouchStart:B.a.dismiss},i.a.createElement(x.a,{style:V.loggedUserStyle},"Zalogowany jako, ",r||null),i.a.createElement(T.a,null,i.a.createElement(x.a,{style:V.title},"Zmiana has\u0142a"),i.a.createElement(T.a,null,d?i.a.createElement(T.a,null,i.a.createElement(M.a,{secureTextEntry:!0,style:$.newPasswordText,placeholder:"Podaj stare has\u0142o",value:U,onChangeText:function(e){return W(e)}}),i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){b(""),fetch(D+'/getPassword?email="'+m+'"&password="'+U+'"').then((function(e){return e.json()})).then((function(e){0==e[0].result&&(b("Podano z\u0142e has\u0142o"),W("")),1==e[0].result&&g(!d)}))}},i.a.createElement(x.a,{style:K.navigationButtonText},"Zmie\u0144 has\u0142o"))):i.a.createElement(T.a,null,i.a.createElement(M.a,{secureTextEntry:!0,style:$.newPasswordText,placeholder:"Podaj nowe has\u0142o",value:z,onChangeText:function(e){return k(e)}}),i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){b(""),fetch(D+'/setPassword?email="'+m+'"&password="'+z+'"').then((function(e){return e.json()})).then((function(e){0==e[0].result&&b("Co\u015b posz\u0142o nie tak, spr\xf3buj ponownie"),1==e[0].result&&(g(!d),k(""),W(""),b("Uda\u0142o si\u0119 zmieni\u0107 has\u0142o"))}))}},i.a.createElement(x.a,{style:K.navigationButtonText},"Zmie\u0144 has\u0142o"))),p?i.a.createElement(T.a,{style:V.errMessageStyle},i.a.createElement(x.a,{style:V.errMessageColor},p)):null,i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){return t.navigate("M\xf3j profil",{name:"M\xf3j profil"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"Powr\xf3t do mojego profilu")))))}function Z(e){var t=e.navigation,a=Object(l.useState)(""),n=s()(a,2),r=n[0],o=n[1],c=Object(l.useState)(!0),u=s()(c,2),m=u[0],y=u[1],j=Object(l.useState)(!0),f=s()(j,2),d=f[0],g=f[1],h=Object(l.useState)(""),v=s()(h,2),p=v[0],b=v[1],w=Object(l.useState)(""),z=s()(w,2),k=z[0],P=z[1],C=Object(l.useState)(""),U=s()(C,2),W=U[0],N=U[1],R=Object(l.useState)(""),Z=s()(R,2),L=Z[0],A=Z[1],_=Object(l.useState)(""),F=s()(_,2),H=F[0],q=F[1],J=Object(l.useState)(1),G=s()(J,2),Q=G[0],X=G[1],Y=function(){fetch(D+"/sendMail?password="+W+"&email="+L)};return Object(l.useEffect)((function(){E().then((function(e){o(e)}))}),[]),i.a.createElement(O.a,{style:V.body,onTouchStart:B.a.dismiss},i.a.createElement(x.a,{style:V.loggedUserStyle},"Zalogowany jako, ",r||null),i.a.createElement(T.a,null,i.a.createElement(x.a,{style:V.title},"Rejestracja nowego u\u017cytkownika"),i.a.createElement(T.a,null,m?i.a.createElement(T.a,null,i.a.createElement(M.a,{style:$.registrationText,placeholder:"Podaj email",value:L,onChangeText:function(e){return function(e){P(""),A(e);var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e);0==t&&(P("Wpisano niepoprawny email"),g(!0)),1==t&&(P(""),b(""),g(!1))}(e)}}),k?i.a.createElement(T.a,{style:V.errMessageStyle},i.a.createElement(x.a,{style:V.errMessageColor},k)):null,i.a.createElement(I.a,{style:K.navigationButton,disabled:d,onPress:function(){fetch(D+'/isThereUser?email="'+L+'"').then((function(e){return e.json()})).then((function(e){1==e[0].result&&b("Podany email ju\u017c istnieje"),0==e[0].result&&(b(""),y(!m))}))}},i.a.createElement(x.a,{style:K.navigationButtonText},"Zarejestruj"))):i.a.createElement(T.a,null,i.a.createElement(M.a,{style:$.registrationText,placeholder:"Podaj email",value:L,editable:m,onChangeText:function(e){return A(e)}}),i.a.createElement(M.a,{style:$.registrationText,placeholder:"Podaj Imi\u0119 u\u017cytkownika",value:H,onChangeText:function(e){return q(e)}}),i.a.createElement(M.a,{secureTextEntry:!0,style:$.registrationText,placeholder:"Podaj tymczasowe has\u0142o",value:W,onChangeText:function(e){return N(e)}}),i.a.createElement(S.a,{selectedValue:Q,style:$.statePicker,onValueChange:function(e,t){return X(e)}},i.a.createElement(S.a.Item,{label:"Admin",value:"1"}),i.a.createElement(S.a.Item,{label:"Koordynator",value:"2"}),i.a.createElement(S.a.Item,{label:"U\u017cytkownik",value:"3"})),i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){fetch(D+'/createUser?email="'+L+'"&password="'+W+'"&name="'+H+'"&role="'+Q+'"').then((function(e){return e.json()})).then((function(e){0==e[0].result&&b("Wyst\u0105pi\u0142 b\u0142\u0105d w trakcie tworzenia u\u017cytkownika, spr\xf3buj ponownie"),1==e[0].result&&(b("Uda\u0142o si\u0119 utworzy\u0107 nowego u\u017cytkownika"),Y())}))}},i.a.createElement(x.a,{style:K.navigationButtonText},"Zarejestruj"))),p?i.a.createElement(T.a,{style:V.errMessageStyle},i.a.createElement(x.a,{style:V.errMessageColor},p)):null,i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){return t.navigate("M\xf3j profil",{name:"M\xf3j profil"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"Powr\xf3t do mojego profilu")))))}function L(e){var t=e.navigation,a=Object(l.useState)(""),n=s()(a,2),o=n[0],c=n[1],u=Object(l.useState)(""),m=s()(u,2),y=m[0],j=m[1],f=Object(l.useState)(""),d=s()(f,2),g=d[0],h=d[1],p=Object(l.useState)(""),b=s()(p,2),w=b[0],S=b[1],z=Object(l.useState)(""),k=s()(z,2),P=k[0],M=k[1],B=function(){(function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(v.a.getItem("@email_token"));case 3:if(null===(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),null,null,[[0,8]],Promise)})().then((function(e){fetch(D+'/getSelectedUserInfo?email="'+e+'"').then((function(e){return e.json()})).then((function(e){j(e[0].Name),h(e[0].Email),M(e[0].State),S(e[0].RoleName)}))}))};return Object(l.useEffect)((function(){E().then((function(e){c(e)})),B()}),[]),i.a.createElement(O.a,{style:V.body},i.a.createElement(x.a,{style:V.loggedUserStyle},"Zalogowany jako, ",o||null),i.a.createElement(T.a,null,i.a.createElement(x.a,{style:V.title},"Informacje o u\u017cytkowniku"),i.a.createElement(T.a,null,i.a.createElement(x.a,{style:$.myData},"Imi\u0119: ",y||null),i.a.createElement(x.a,{style:$.myData},"Email: ",g||null),i.a.createElement(x.a,{style:$.myData},"Rola: ",w||null),i.a.createElement(x.a,{style:$.myData},"Status:"," ",1==P?i.a.createElement(x.a,{style:H.available},"Dost\u0119pny"):2==P?i.a.createElement(x.a,{style:H.unavailable},"Niedost\u0119pny"):3==P?i.a.createElement(x.a,{style:H.busy},"Na akcji"):null),i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){return t.navigate("ARM",{name:"ARM"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"Powr\xf3t do listy")))))}function A(e){var t=e.navigation,a=Object(l.useState)([]),n=s()(a,2),o=n[0],c=n[1],m=Object(l.useState)(""),y=s()(m,2),j=y[0],f=y[1],g=Object(l.useState)(""),h=s()(g,2),p=h[0],w=h[1],S=function(){fetch(D+"/events").then((function(e){return e.json()})).then((function(e){c(e)}))},z=function(e){var a;a=e,r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.a.awrap(v.a.setItem("@event_token",a.toString()));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",null);case 8:case"end":return e.stop()}}),null,null,[[0,5]],Promise),t.navigate("Informacje o Wydarzeniu",{name:"Informacja o Wydarzeniu"})};return Object(u.useFocusEffect)(i.a.useCallback((function(){E().then((function(e){return f(e)})),S(),d.a.locale("pl"),b().then((function(e){return w(e)}))}),[])),i.a.createElement(O.a,{style:V.body},i.a.createElement(x.a,{style:V.loggedUserStyle},"Zalogowany jako, ",j||null),i.a.createElement(T.a,{style:V.container},i.a.createElement(x.a,{style:V.title},"Lista wydarze\u0144"),i.a.createElement(T.a,{style:V.eventsList},i.a.createElement(P.a,{showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,data:o,renderItem:function(e){var t=e.item;return i.a.createElement(T.a,{style:V.marginTop15},i.a.createElement(I.a,null,i.a.createElement(x.a,{style:V.events,onPress:function(){return z(t.Id)}},t.Name,"\n",d()(t.DateFrom).format("DD-MM-yyyy hh:mm"),"\n",null==t.DateTo||""==t.DateTo?"-":d()(t.DateTo).format("DD-MM-yyyy hh:mm"))))},keyExtractor:function(e,t){return t.toString()}})),i.a.createElement(T.a,{style:V.refreshbutton},i.a.createElement(I.a,{style:K.navigationButton,onPress:S},i.a.createElement(x.a,{style:K.navigationButtonText},"Od\u015bwie\u017c list\u0119 wydarze\u0144")),"Admin"==p||"Koordynator"==p?i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){return t.navigate("Dodaj wydarzenie",{name:"Dodaj wydarzenie"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"Dodaj wydarzenie")):null,i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){return t.navigate("ARM",{name:"ARM"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"Powr\xf3t do listy u\u017cytkownik\xf3w")))))}function _(e){var t=e.navigation,a=Object(l.useState)(""),n=s()(a,2),r=n[0],o=n[1],c=Object(l.useState)(""),u=s()(c,2),m=u[0],y=u[1],j=Object(l.useState)(0),f=s()(j,2),g=f[0],h=f[1],v=Object(l.useState)(""),p=s()(v,2),S=p[0],z=p[1],k=Object(l.useState)([]),M=s()(k,2),B=M[0],C=M[1],U=Object(l.useState)(!0),W=s()(U,2),N=W[0],R=W[1],Z=Object(l.useState)(""),L=s()(Z,2),A=L[0],_=L[1],F=Object(l.useState)(""),H=s()(F,2),q=H[0],J=H[1],G=Object(l.useState)(""),Q=s()(G,2),X=Q[0],Y=Q[1],ee=Object(l.useState)(""),te=s()(ee,2),ae=te[0],ne=te[1],re=function(){w().then((function(e){fetch(D+"/getUsersInEvent?eventId="+e).then((function(e){return e.json()})).then((function(e){C(e),E().then((function(t){for(var a=0;a<e.length;a++)if(e[a].Email==t)return void R(!N)}))}))}))};return Object(l.useEffect)((function(){E().then((function(e){o(e)})),w().then((function(e){return fetch(D+"/eventById?Id="+e).then((function(e){return e.json()})).then((function(e){h(e[0].Id),_(e[0].Name),J(e[0].Localization),Y(e[0].DateFrom),ne(e[0].DateTo)}))})),re(),b().then((function(e){y(e)}))}),[]),i.a.createElement(O.a,{style:V.body},i.a.createElement(x.a,{style:V.loggedUserStyle},"Zalogowany jako, ",r||null),i.a.createElement(T.a,null,i.a.createElement(x.a,{style:V.title},"Informacje o wydarzeniu"),i.a.createElement(T.a,null,i.a.createElement(x.a,{style:$.myData},"Nazwa: ",A||null),i.a.createElement(x.a,{style:$.myData},"Lokalizacja: ",q||null),i.a.createElement(x.a,{style:$.myData},"Data rozpocz\u0119cia:"," ",X?d()(X).format("DD-MM-yyyy hh:mm"):null),i.a.createElement(x.a,{style:$.myData},"Data zako\u0144czenia:"," ",ae?d()(ae).format("DD-MM-yyyy hh:mm"):null),i.a.createElement(x.a,{style:V.title},"Osoby bior\u0105ce udzia\u0142 w wydarzeniu: "),i.a.createElement(T.a,{style:V.usersInEventList},i.a.createElement(P.a,{showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,data:B,renderItem:function(e){var t=e.item;return i.a.createElement(T.a,{style:V.marginTop15},i.a.createElement(x.a,{style:V.events},t.UserName," - ",t.Email))},keyExtractor:function(e,t){return t.toString()}})),N?i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){fetch(D+'/getUserInfo?email="'+r+'"').then((function(e){return e.json()})).then((function(e){fetch(D+"/addToEvent?userId="+e[0].Id+"&eventId="+g).then((function(e){return e.json()})).then((function(e){0==e[0].result&&z("Wyst\u0105pi\u0142 b\u0142\u0105d w trakcie do\u0142\u0105czania do wydarzenia, spr\xf3buj ponownie"),1==e[0].result&&(z("Uda\u0142o si\u0119 do\u0142\u0105czy\u0107 do wydarzenia"),re(),R(!N))}))}))}},i.a.createElement(x.a,{style:K.navigationButtonText},"Do\u0142\u0105cz do wydarzenia")):i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){fetch(D+'/getUserInEvent?Email="'+r+'"').then((function(e){return e.json()})).then((function(e){return fetch(D+"/deleteFromEvent?Id="+e[0].Id).then((function(e){return e.json().then((function(e){0==e[0].result&&z("Wyst\u0105pi\u0142 b\u0142\u0105d w trakcie opuszczania wydarzenia, spr\xf3buj ponownie"),1==e[0].result&&(z("Uda\u0142o si\u0119 opu\u015bci\u0107 wydarzenie"),re(),R(!N))}))}))}))}},i.a.createElement(x.a,{style:K.navigationButtonText},"Opu\u015b\u0107 wydarzenie")),S?i.a.createElement(T.a,{style:V.eventErrMessageStyle},i.a.createElement(x.a,{style:V.errMessageColor},S)):null,"Admin"==m||"Koordynator"==m?i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){fetch(D+"/deleteEvent?eventId="+g).then((function(){t.navigate("Wydarzenia",{name:"Wydarzenia"})}))}},i.a.createElement(x.a,{style:K.navigationButtonText},"Usu\u0144 wydarzenie")):null,i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){return t.navigate("Wydarzenia",{name:"Wydarzenia"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"Powr\xf3t do wydarze\u0144")))))}function F(e){var t=e.navigation,a=Object(l.useState)(""),n=s()(a,2),r=n[0],o=n[1],c=Object(l.useState)(""),u=s()(c,2),m=u[0],y=u[1],j=Object(l.useState)(""),f=s()(j,2),g=f[0],h=f[1],v=Object(l.useState)(""),p=s()(v,2),b=p[0],w=p[1],S=Object(l.useState)(""),z=s()(S,2),k=z[0],P=z[1],B=Object(l.useState)(""),C=s()(B,2),U=C[0],W=C[1],N=Object(l.useState)(""),R=s()(N,2),Z=R[0],L=R[1],A=Object(l.useState)(""),_=s()(A,2),F=_[0],H=_[1],$=Object(l.useState)(""),q=s()($,2),J=q[0],G=q[1],Q=Object(l.useState)(""),X=s()(Q,2),Y=X[0],ee=X[1];return Object(l.useEffect)((function(){E().then((function(e){o(e)})),d.a.locale("pl")}),[]),i.a.createElement(O.a,{style:V.body},i.a.createElement(x.a,{style:V.loggedUserStyle},"Zalogowany jako, ",r||null),i.a.createElement(T.a,{style:{width:300}},i.a.createElement(x.a,{style:V.title},"Dodaj wydarzenie"),i.a.createElement(T.a,null,i.a.createElement(M.a,{style:V.textInputStyle,placeholder:"Nazwa wydarzenia",value:Z,onChangeText:function(e){return function(e){y(""),""==e&&y("Uzupe\u0142nij nazw\u0119 wydarzenia"),L(e)}(e)}}),m?i.a.createElement(T.a,{style:V.eventErrMessageStyle},i.a.createElement(x.a,{style:V.errMessageColor},m)):null,i.a.createElement(M.a,{style:V.textInputStyle,placeholder:"Podaj lokalizacj\u0119",value:F,onChangeText:function(e){return function(e){h(""),""==e&&h("Uzupe\u0142nij localizacj\u0119 wydarzenia"),H(e)}(e)}}),g?i.a.createElement(T.a,{style:V.eventErrMessageStyle},i.a.createElement(x.a,{style:V.errMessageColor},g)):null,i.a.createElement(M.a,{style:V.textInputStyle,placeholder:"Podaj dat\u0119 rozpocz\u0119cia",value:J,onChangeText:function(e){return function(e){if(P(""),w(""),G(e),null!=e&&""!=e){var t=/^([1-9]|([012][0-9])|(3[01]))-([0]{0,1}[1-9]|1[012])-\d\d\d\d\s([0-1]?[0-9]|2?[0-3]):([0-5]\d)$/.test(e);0==t&&P("Wpisano niepoprawn\u0105 dat\u0119 rozpocz\u0119cia \nData powinna mie\u0107 format dd-mm-yyyy hh:mm"),1==t&&(w(""),P(""))}}(e)}}),k?i.a.createElement(T.a,{style:V.eventErrMessageStyle},i.a.createElement(x.a,{style:V.errMessageColor},k)):null,i.a.createElement(M.a,{style:V.textInputStyle,placeholder:"Podaj dat\u0119 zako\u0144czenia",value:Y,onChangeText:function(e){return function(e){if(W(""),w(""),ee(e),null!=e&&""!=e){var t=/^([1-9]|([012][0-9])|(3[01]))-([0]{0,1}[1-9]|1[012])-\d\d\d\d\s([0-1]?[0-9]|2?[0-3]):([0-5]\d)$/.test(e);0==t&&W("Wpisano niepoprawn\u0105 dat\u0119 zako\u0144czenia \nData powinna mie\u0107 format dd-mm-yyyy hh:mm"),1==t&&(w(""),W(""))}}(e)}}),U?i.a.createElement(T.a,{style:V.eventErrMessageStyle},i.a.createElement(x.a,{style:V.errMessageColor},U)):null,i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){if(w(""),y(""),h(""),""==Z&&y("Uzupe\u0142nij nazw\u0119 wydarzenia"),""==F&&h("Uzupe\u0142nij lokalizacj\u0119 wydarzenia"),""==J&&P("Uzupe\u0142nij dat\u0119 rozpocz\u0119cia"),(null!=Y||""!=Y)&&new Date(J)>new Date(Y))w("Data rozpocz\u0119cia nie mo\u017ce by\u0107 mniejsza od daty zako\u0144czenia");else if(""!=Z&&""!=F&&""!=J){var e=d()(J,"DD-MM-yyyy hh:mm").format("yyyy-MM-DD hh:mm"),a=null;""!=Y&&(a='"'+d()(Y,"DD-MM-yyyy hh:mm").format("yyyy-MM-DD hh:mm")+'"'),fetch(D+'/addEvent?eventName="'+Z+'"&eventLocalization="'+F+'"&eventFrom="'+e+'"&eventTo='+a).then((function(e){return e.json()})).then((function(e){1==e[0].result&&(w("Uda\u0142o si\u0119 stworzy\u0107 nowe wydarzenie"),t.navigate("Wydarzenia",{name:"Wydarzenia"})),0==e[0].result&&w("Nie uda\u0142o si\u0119 utworzy\u0107 nowego wydarzenia, spr\xf3buj ponownie")}))}}},i.a.createElement(x.a,{style:K.navigationButtonText},"Dodaj wydarzenie")),b?i.a.createElement(T.a,{style:V.eventErrMessageStyle},i.a.createElement(x.a,{style:V.errMessageColor},b)):null,i.a.createElement(I.a,{style:K.navigationButton,onPress:function(){return t.navigate("Wydarzenia",{name:"Wydarzenia"})}},i.a.createElement(x.a,{style:K.navigationButtonText},"Powr\xf3t do wydarze\u0144")))))}var V=k.a.create({body:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"dodgerblue"},container:{height:70*g.vh},ARMtitle:{marginLeft:"auto",marginRight:"auto",fontSize:2.5*g.vh,fontWeight:"bold",marginBottom:"5%",marginTop:"-5%"},title:{marginLeft:"auto",marginRight:"auto",fontSize:2.5*g.vh,fontWeight:"bold",marginBottom:"5%",marginTop:"5%"},usersList:{height:40*g.vh,alignItems:"center"},usersInEventList:{height:26*g.vh,alignItems:"center"},users:{alignItems:"center",fontSize:2.3*g.vh,marginTop:20},eventsList:{height:40*g.vh,alignItems:"center"},events:{justifyContent:"center",marginLeft:"auto",marginRight:"auto",fontSize:2*g.vh,marginTop:5},refreshbutton:{marginTop:"5%",borderRadius:5},textInputStyle:{height:5*g.vh,width:"95%",margin:5,marginBottom:15},errMessageStyle:{padding:10,position:"relative",width:200},eventErrMessageStyle:{padding:10,position:"relative",width:"auto"},errMessageColor:{color:"orange"},loggedUserStyle:{position:"absolute",top:20,left:0,fontSize:1.5*g.vh},marginTop15:{marginTop:15}}),H=k.a.create({available:{color:"darkgreen"},unavailable:{color:"darkred"},busy:{color:"orange"}}),K=k.a.create({navigationMenu:{display:"none",alignContent:"flex-end",justifyContent:"center"},navigationButton:{alignItems:"center",justifyContent:"center",padding:1*g.vh,backgroundColor:"#0064C8",marginTop:10,borderRadius:5},loginButton:{alignItems:"center",justifyContent:"center",padding:1*g.vh,backgroundColor:"#0064C8",width:200,borderRadius:5},navigationButtonText:{alignItems:"center",fontSize:2*g.vh,color:"white"}}),$=k.a.create({myData:{fontSize:2*g.vh,padding:2,marginTop:5,fontWeight:"bold"},myState:{marginTop:20,fontSize:2*g.vh,fontWeight:"bold"},statePicker:{backgroundColor:"dodgerblue"},newPasswordText:{height:5*g.vh,width:"95%",margin:5,marginTop:15,marginBottom:5},registrationText:{width:"95%",marginTop:10,marginBottom:5}})},352:function(e,t,a){e.exports=a(408)},384:function(e,t,a){var n={"./af":169,"./af.js":169,"./ar":170,"./ar-dz":171,"./ar-dz.js":171,"./ar-kw":172,"./ar-kw.js":172,"./ar-ly":173,"./ar-ly.js":173,"./ar-ma":174,"./ar-ma.js":174,"./ar-sa":175,"./ar-sa.js":175,"./ar-tn":176,"./ar-tn.js":176,"./ar.js":170,"./az":177,"./az.js":177,"./be":178,"./be.js":178,"./bg":179,"./bg.js":179,"./bm":180,"./bm.js":180,"./bn":181,"./bn-bd":182,"./bn-bd.js":182,"./bn.js":181,"./bo":183,"./bo.js":183,"./br":184,"./br.js":184,"./bs":185,"./bs.js":185,"./ca":186,"./ca.js":186,"./cs":187,"./cs.js":187,"./cv":188,"./cv.js":188,"./cy":189,"./cy.js":189,"./da":190,"./da.js":190,"./de":191,"./de-at":192,"./de-at.js":192,"./de-ch":193,"./de-ch.js":193,"./de.js":191,"./dv":194,"./dv.js":194,"./el":195,"./el.js":195,"./en-au":196,"./en-au.js":196,"./en-ca":197,"./en-ca.js":197,"./en-gb":198,"./en-gb.js":198,"./en-ie":199,"./en-ie.js":199,"./en-il":200,"./en-il.js":200,"./en-in":201,"./en-in.js":201,"./en-nz":202,"./en-nz.js":202,"./en-sg":203,"./en-sg.js":203,"./eo":204,"./eo.js":204,"./es":205,"./es-do":206,"./es-do.js":206,"./es-mx":207,"./es-mx.js":207,"./es-us":208,"./es-us.js":208,"./es.js":205,"./et":209,"./et.js":209,"./eu":210,"./eu.js":210,"./fa":211,"./fa.js":211,"./fi":212,"./fi.js":212,"./fil":213,"./fil.js":213,"./fo":214,"./fo.js":214,"./fr":215,"./fr-ca":216,"./fr-ca.js":216,"./fr-ch":217,"./fr-ch.js":217,"./fr.js":215,"./fy":218,"./fy.js":218,"./ga":219,"./ga.js":219,"./gd":220,"./gd.js":220,"./gl":221,"./gl.js":221,"./gom-deva":222,"./gom-deva.js":222,"./gom-latn":223,"./gom-latn.js":223,"./gu":224,"./gu.js":224,"./he":225,"./he.js":225,"./hi":226,"./hi.js":226,"./hr":227,"./hr.js":227,"./hu":228,"./hu.js":228,"./hy-am":229,"./hy-am.js":229,"./id":230,"./id.js":230,"./is":231,"./is.js":231,"./it":232,"./it-ch":233,"./it-ch.js":233,"./it.js":232,"./ja":234,"./ja.js":234,"./jv":235,"./jv.js":235,"./ka":236,"./ka.js":236,"./kk":237,"./kk.js":237,"./km":238,"./km.js":238,"./kn":239,"./kn.js":239,"./ko":240,"./ko.js":240,"./ku":241,"./ku.js":241,"./ky":242,"./ky.js":242,"./lb":243,"./lb.js":243,"./lo":244,"./lo.js":244,"./lt":245,"./lt.js":245,"./lv":246,"./lv.js":246,"./me":247,"./me.js":247,"./mi":248,"./mi.js":248,"./mk":249,"./mk.js":249,"./ml":250,"./ml.js":250,"./mn":251,"./mn.js":251,"./mr":252,"./mr.js":252,"./ms":253,"./ms-my":254,"./ms-my.js":254,"./ms.js":253,"./mt":255,"./mt.js":255,"./my":256,"./my.js":256,"./nb":257,"./nb.js":257,"./ne":258,"./ne.js":258,"./nl":259,"./nl-be":260,"./nl-be.js":260,"./nl.js":259,"./nn":261,"./nn.js":261,"./oc-lnc":262,"./oc-lnc.js":262,"./pa-in":263,"./pa-in.js":263,"./pl":264,"./pl.js":264,"./pt":265,"./pt-br":266,"./pt-br.js":266,"./pt.js":265,"./ro":267,"./ro.js":267,"./ru":268,"./ru.js":268,"./sd":269,"./sd.js":269,"./se":270,"./se.js":270,"./si":271,"./si.js":271,"./sk":272,"./sk.js":272,"./sl":273,"./sl.js":273,"./sq":274,"./sq.js":274,"./sr":275,"./sr-cyrl":276,"./sr-cyrl.js":276,"./sr.js":275,"./ss":277,"./ss.js":277,"./sv":278,"./sv.js":278,"./sw":279,"./sw.js":279,"./ta":280,"./ta.js":280,"./te":281,"./te.js":281,"./tet":282,"./tet.js":282,"./tg":283,"./tg.js":283,"./th":284,"./th.js":284,"./tk":285,"./tk.js":285,"./tl-ph":286,"./tl-ph.js":286,"./tlh":287,"./tlh.js":287,"./tr":288,"./tr.js":288,"./tzl":289,"./tzl.js":289,"./tzm":290,"./tzm-latn":291,"./tzm-latn.js":291,"./tzm.js":290,"./ug-cn":292,"./ug-cn.js":292,"./uk":293,"./uk.js":293,"./ur":294,"./ur.js":294,"./uz":295,"./uz-latn":296,"./uz-latn.js":296,"./uz.js":295,"./vi":297,"./vi.js":297,"./x-pseudo":298,"./x-pseudo.js":298,"./yo":299,"./yo.js":299,"./zh-cn":300,"./zh-cn.js":300,"./zh-hk":301,"./zh-hk.js":301,"./zh-mo":302,"./zh-mo.js":302,"./zh-tw":303,"./zh-tw.js":303};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=384}},[[352,1,2]]]);
//# sourceMappingURL=app.692fa36d.chunk.js.map